/*REALIZADO POR : ESTELA DE VEGA MARTIN 1�DAM*/
/**************DISE�O FISICO CUBE_X***********/
ALTER SESSION SET "_ORACLE_SCRIPT"=TRUE;
CREATE TABLESPACE CUBE_X
DATAFILE 'CUBEX.ORA' SIZE 300M;

CREATE USER cubeX IDENTIFIED BY IESRibera23
DEFAULT TABLESPACE CUBE_X;
GRANT DBA TO cubeX;


/*TABLAS*/
-- HE MODIFICADO LOS NOMBRES PARA EVITAR LAS PALABRAS RESERVADAS DE ORACLE
DROP TABLE CUBE_USERS CASCADE CONSTRAINTS;
CREATE TABLE CUBE_USERS (
    ID_USER NUMBER(7) PRIMARY KEY,
    NAME_USER VARCHAR2(45) UNIQUE NOT NULL,
    PASSWORD_USER VARCHAR(45) NOT NULL,
    /*EL NIVEL SE ESTABLECE EN 0, YA QUE PARA CALCULARLO NECESITAS EL ID DE TIME 
    PARA CALCULARLO. EL USUARIO AL ENTRAR TENDRA UN NIVEL 0, CUANDO HAYA REALIZADO
    TIEMPOS SE IRAN ACTUALIZANDO EL NIVEL*/
    LEVEL_USER NUMBER(4) DEFAULT 0 NOT NULL, 
    ROLE_USER VARCHAR2(6) NOT NULL CHECK (ROLE_USER IN ('MEMBER', 'USER')),
    MAIL VARCHAR2(100) NOT NULL,
    REGISTRATION_DATE DATE NOT NULL
);

INSERT INTO CUBE_USERS VALUES (1,'blue985', '3BlzY*8d#lB',0,'MEMBER', 
    'blue985@gmail.com',TO_DATE('02/01/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (2,'ElJoaki', '3KzY*8d#pR',0,'MEMBER',  
    'ElJoaki@gmail.com',TO_DATE('02/01/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (3,'AlexMx', 'm9MX5@Ls!2',0,'USER',  
    'AlexMx@gmail.com',TO_DATE('03/11/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (4,'Cubero89', '$tU7xVz#Pq',0,'MEMBER',  
    'Cubero89@gmail.com',TO_DATE('08/04/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (5,'SpeedCuber23', '6Rd@N$Z*2y',0,'USER',  
    'SpeedCuber23@gmail.com',TO_DATE('11/02/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (6,'RubikMaster', '@p7Dc$5A!z',0,'MEMBER',  
    'RubikMaster@gmail.com',TO_DATE('17/05/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (7,'QuickSolver', '2J!pT4$rFk',0,'MEMBER',  
    'QuickSolver@gmail.com',TO_DATE('21/01/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (8,'PuzzlePro','q3@v8XzA*k',0,'USER',  
    'PuzzlePro@gmail.com',TO_DATE('02/02/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (9,'CubeChamp','5Fb@P!z6Zr',0,'MEMBER',  
    'CubeChamp@gmail.com',TO_DATE('05/01/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (10,'TwistyWizard','y7A$k2T!fG',0,'USER',  
    'TwistyWizard@gmail.com',TO_DATE('10/02/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (11,'SolveGenius','H4*qA!z9dS',0,'USER',  
    'SolveGenius@gmail.com',TO_DATE('19/02/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (12,'CubeEnthusiast','z8P@5$S2Gj',0,'USER',  
    'CubeEnthusiast@gmail.com',TO_DATE('18/03/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (13,'FastFingers','!D5z9FGSr',0,'USER',  
    'FastFingers@gmail.com',TO_DATE('18/09/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (14,'PuzzleWhiz','K2D@j5PXWhr',0,'USER',  
    'PuzzleWhiz@gmail.com',TO_DATE('22/03/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (15,'SpeedySolver','qT3!F4p$z',0,'USER',  
    'SpeedySolver@gmail.com',TO_DATE('24/02/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (16,'PuzzleNinja','6k@2PNjG5mDz',0,'MEMBER',  
    'PuzzleNinja@gmail.com',TO_DATE('05/06/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (17,'QuickTwister','*J4s$2@8Np',0,'MEMBER',  
    'QuickTwister@gmail.com',TO_DATE('04/02/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (18,'NinjaRubik','$5Tq#4NrkjFz',0,'USER',  
    'NinjaRubik@gmail.com',TO_DATE('27/03/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (19,'CubingExpert','r7A$2pF!jT',0,'USER',  
    'CubingExpert@gmail.com',TO_DATE('30/03/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (20,'SpeedCubist','P5#mDzScbTQ!',0,'MEMBER',  
    'SpeedCubist@gmail.com',TO_DATE('14/03/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (21,'TwistyPro','f9@kD!p6sT',0,'MEMBER',  
    'TwistyPro@gmail.com',TO_DATE('25/12/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (22, 'CuberExtraordinaire', 'X9aPr@6g#fB', 0,  
    'USER', 'cuberExtraordinaire@gmail.com', TO_DATE('15/03/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (23, 'SpeedySolver17', '5GmHt*7s#iC', 0, 'USER',  
    'speedySolver17@gmail.com', TO_DATE('20/05/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (24, 'TwistyTornado', '2VnDy#9d@fL', 0, 'USER',  
    'twistyTornado@gmail.com', TO_DATE('10/06/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (25, 'PuzzleProdigy', '1IcKp@4o#tQ', 0, 'MEMBER',  
    'puzzleProdigy@gmail.com', TO_DATE('25/07/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (26, 'QuickCubeMaster', '9EsZw*3q#rD', 0, 'USER',  
    'quickCubeMaster@gmail.com', TO_DATE('05/08/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (27, 'RubikGenius99', '6UxYb@8a#nF', 0, 'USER',  
    'rubikGenius99@gmail.com', TO_DATE('18/09/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (28, 'FastFingerCuber', '4CjLr#5k@sH', 0, 'MEMBER',  
    'fastFingerCuber@gmail.com', TO_DATE('30/10/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (29, 'PuzzleWhisperer', '8JvOu*2p#bR', 0, 'USER',  
    'puzzleWhisperer@gmail.com', TO_DATE('12/11/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (30, 'AlgorithmArtist', '3DDDzY*8d#lB', 0, 'USER',  
    'algorithmArtist@gmail.com', TO_DATE('24/12/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (31, 'CubingSensation', '7XyFw@9v#mN', 0, 'USER',  
    'cubingSensation@gmail.com', TO_DATE('08/01/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (32, 'RapidRotation', '2PcJl#6b@sD', 0, 'MEMBER',  
    'rapidRotation@gmail.com', TO_DATE('15/02/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (33, 'SolveMaestro', '9EsZw*3q#rD', 0, 'MEMBER',  
    'solveMaestro@gmail.com', TO_DATE('25/03/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (34, 'TwistyTyphoon', '1IcKp@4o#tQ', 0, 'USER',  
    'twistyTyphoon@gmail.com', TO_DATE('05/04/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (35, 'PuzzlePhenom', '5GmHt*7s#iC', 0, 'USER',  
    'puzzlePhenom@gmail.com', TO_DATE('20/05/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (36, 'SpeedCubingGuru', '3BlzY*8d#lB', 0, 'USER',  
    'speedCubingGuru@gmail.com', TO_DATE('10/06/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (37, 'CubistChallenger', '6UxYb@8a#nF', 0, 'MEMBER',  
    'cubistChallenger@gmail.com', TO_DATE('25/07/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (38, 'RubikRiddler', '8JvOu*2p#bR', 0, 'USER',  
    'rubikRiddler@gmail.com', TO_DATE('05/08/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (39, 'QuickTwistExpert', '4CjLr#5k@sH', 0, 'USER',  
    'quickTwistExpert@gmail.com', TO_DATE('18/09/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (40, 'CubeConnoisseur', '7XyFw@9v#mN', 0, 'MEMBER',  
    'cubeConnoisseur@gmail.com', TO_DATE('30/10/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (41, 'TwistyTactician', '2PcJl#6b@sD', 0, 'USER',  
    'twistyTactician@gmail.com', TO_DATE('12/11/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (42, 'TwistyGuru', '3BlzY*8d#lB', 0, 'USER',  
    'twistyGuru@gmail.com', TO_DATE('24/12/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (43, 'CubingFanatic', '9EsZw*3q#rD', 0, 'MEMBER',  
    'cubingFanatic@gmail.com', TO_DATE('08/01/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (44, 'PuzzleMaestro', '1IcKp@4o#tQ', 0, 'MEMBER',  
    'puzzleMaestro@gmail.com', TO_DATE('15/02/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (45, 'RapidCuber', '5GmHt*7s#iC', 0, 'MEMBER',  
    'rapidCuber@gmail.com', TO_DATE('25/03/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (46, 'SolveSavvy', '3BlzY*8d#lB', 0, 'USER',  
    'solveSavvy@gmail.com', TO_DATE('05/04/2024', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (47, 'CubistChampion', '6UxYb@8a#nF', 0, 'MEMBER',  
    'cubistChampion@gmail.com', TO_DATE('20/05/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (48, 'RubikWhizKid', '8JvOu*2p#bR', 0, 'USER',  
    'rubikWhizKid@gmail.com', TO_DATE('10/06/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (49, 'AlgorithmAce', '4CjLr#5k@sH', 0, 'MEMBER',  
    'algorithmAce@gmail.com', TO_DATE('25/07/2023', 'DD/MM/YYYY'));
INSERT INTO CUBE_USERS VALUES (50, 'PuzzleSavant', '7XyFw@9v#mN', 0, 'MEMBER',  
    'puzzleSavant@gmail.com', TO_DATE('05/08/2023', 'DD/MM/YYYY'));
COMMIT;



DROP TABLE MEMBERS CASCADE CONSTRAINTS;
CREATE TABLE MEMBERS ( 
    ID_USER NUMBER(7) PRIMARY KEY,
    ID_MEMBER NUMBER(7) UNIQUE NOT NULL,
    /*COMO SE CALCULA EL DESCUENTO A PARTIR DE LA FECHA EN QUE EL USUARIO 
    SE HIZO MIEMBRO, DAREMOS EL VALOR POR DEFECTO 0 Y LUEGO SE ACTUALIZARA*/
    DISCOUNT NUMBER(3) DEFAULT 0 NOT NULL,
    REGISTRATION_DATE DATE NOT NULL,
    CONSTRAINT pk_member FOREIGN KEY (ID_USER) REFERENCES CUBE_USERS
        ON DELETE CASCADE
);

INSERT INTO MEMBERS SELECT ID_USER,
    -- HE INVESTIGADO EL COMO IMPLEMENTAR UN TIPO CONTADOR YA QUE EN ORACLE NO SE 
    -- PERMITEN ATRIBUTOS AUTOINCREMENT.  
    -- ESTA EXPRESION ASIGNA UN NUMERO UNICO A CADA FILA, ORDENANDOLAS SEGUN EL 
    -- ID_USER 
    ROW_NUMBER() OVER (ORDER BY ID_USER)  AS ID_MEMBER,
    0 AS DISCOUNT,
    CASE
    -- HE IMPLEMENTADO UN CASE PARA ASIGNAR LAS FECHAS ESPECIFICAS A CADA USUARIO
    -- SEGUN SU POSICION EN LA SECUENCIA
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 1 THEN TO_DATE('02/02/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 2 THEN TO_DATE('10/02/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 3 THEN TO_DATE('08/05/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 4 THEN TO_DATE('17/06/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 5 THEN TO_DATE('14/03/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 6 THEN TO_DATE('15/02/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 7 THEN TO_DATE('27/06/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 8 THEN TO_DATE('04/02/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 9 THEN TO_DATE('20/03/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 10 THEN TO_DATE('04/01/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 11 THEN TO_DATE('04/08/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 12 THEN TO_DATE('01/01/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 13 THEN TO_DATE('16/02/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 14 THEN TO_DATE('12/04/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 15 THEN TO_DATE('31/08/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 16 THEN TO_DATE('02/11/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 17 THEN TO_DATE('22/02/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 18 THEN TO_DATE('04/03/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 19 THEN TO_DATE('11/04/2024', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 20 THEN TO_DATE('23/05/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 21 THEN TO_DATE('09/08/2023', 'DD/MM/YYYY')
        WHEN ROW_NUMBER() OVER (ORDER BY ID_USER) = 22 THEN TO_DATE('27/08/2023', 'DD/MM/YYYY')
    END AS REGISTRATION_DATE
FROM CUBE_USERS
WHERE ROLE_USER LIKE 'MEMBER'
AND EXISTS (SELECT ID_USER FROM CUBE_USERS 
            WHERE ROLE_USER LIKE 'MEMBER');
COMMIT;

/*EL CALCULO DEL DESCUENTO PARA MIEMBROS SE BASA EN DESPUES DE 6 MESES LE DAN 
UN DESCUENTO DE 10 EUROS PARA FUTURAS COMPETICIONES EXCLUSIVAS
SELECT ((DISCOUNT + 10) * TRUNC(MONTHS_BETWEEN(SYSDATE, REGISTRATION_DATE)/6)) AS TOTAL 
FROM MEMBERS;*/
UPDATE MEMBERS 
SET DISCOUNT = ((DISCOUNT + 10) * TRUNC(MONTHS_BETWEEN(SYSDATE, REGISTRATION_DATE)/6))
WHERE ID_MEMBER BETWEEN 1 AND 22;


DROP TABLE CUBE_TYPE CASCADE CONSTRAINTS;
CREATE TABLE CUBE_TYPE (
    ID_TYPE NUMBER(3) PRIMARY KEY,
    NAME_TYPE VARCHAR(55) UNIQUE NOT NULL
);
 
INSERT INTO CUBE_TYPE VALUES (1,'2x2x2');
INSERT INTO CUBE_TYPE VALUES (2,'3x3x3');
INSERT INTO CUBE_TYPE VALUES (3,'4x4x4');
INSERT INTO CUBE_TYPE VALUES (4,'5x5x5');
INSERT INTO CUBE_TYPE VALUES (5,'6x6x6');
INSERT INTO CUBE_TYPE VALUES (6,'7x7x7');
INSERT INTO CUBE_TYPE VALUES (7,'PYRAMINX');
INSERT INTO CUBE_TYPE VALUES (8,'MEGAMINX');
INSERT INTO CUBE_TYPE VALUES (9,'SKEWB');
INSERT INTO CUBE_TYPE VALUES (10,'SQUARE-1');
INSERT INTO CUBE_TYPE VALUES (11,'CLOCK');
INSERT INTO CUBE_TYPE VALUES (12,'3x3x3 MIRROR');
INSERT INTO CUBE_TYPE VALUES (13,'5x5x5 BLIND');
INSERT INTO CUBE_TYPE VALUES (14,'3x3x3 ONE-HANDED');
INSERT INTO CUBE_TYPE VALUES (15,'3x3x3 BLIND');
INSERT INTO CUBE_TYPE VALUES (16,'3x3x3 MULTIBLIND');
INSERT INTO CUBE_TYPE VALUES (17,'4x4x4 BLIND');
INSERT INTO CUBE_TYPE VALUES (18,'PYRAMORPHIX');
INSERT INTO CUBE_TYPE VALUES (19,'MASTERMORPHIX');
INSERT INTO CUBE_TYPE VALUES (20,'3x3x3 FEWEST MOVES CHALLENGE');
COMMIT;


DROP TABLE METHOD_CUBE CASCADE CONSTRAINTS;
CREATE TABLE METHOD_CUBE (
    ID_METHOD NUMBER(3) PRIMARY KEY,
    NAME_METHOD VARCHAR2(55) UNIQUE NOT NULL
);

INSERT INTO METHOD_CUBE VALUES (1,'ORTEGA METHOD');
INSERT INTO METHOD_CUBE VALUES (2,'CORNERS LAST LAYER');
INSERT INTO METHOD_CUBE VALUES (3,'BEGINNER�S METHOD');
INSERT INTO METHOD_CUBE VALUES (4,'REDUCED FRIDRICH METHOD');
INSERT INTO METHOD_CUBE VALUES (5,'FRIDRICH METHOD');
INSERT INTO METHOD_CUBE VALUES (6,'ROUX METHOD');
INSERT INTO METHOD_CUBE VALUES (7,'ZBOROWSKI-ZOLTE METHOD');
INSERT INTO METHOD_CUBE VALUES (8,'PETRUS METHOD');
INSERT INTO METHOD_CUBE VALUES (9,'WALTERMAN METHOD');
INSERT INTO METHOD_CUBE VALUES (10,'HEISE METHOD');
INSERT INTO METHOD_CUBE VALUES (11,'HOYA METHOD');
INSERT INTO METHOD_CUBE VALUES (12,'ZBOROWSKI-BRUCHEM LAST LAYER METHOD');
INSERT INTO METHOD_CUBE VALUES (13,'YAU METHOD');
INSERT INTO METHOD_CUBE VALUES (14,'INTUITIVE METHOD');
INSERT INTO METHOD_CUBE VALUES (15,'REDUX METHOD');
INSERT INTO METHOD_CUBE VALUES (16,'REDUCTION METHOD');
INSERT INTO METHOD_CUBE VALUES (17,'KEYHOLE METHOD');
INSERT INTO METHOD_CUBE VALUES (18,'LAYER-BY-LAYER METHOD');
INSERT INTO METHOD_CUBE VALUES (19,'RIDO METHOD');
INSERT INTO METHOD_CUBE VALUES (20,'EDGE PERMUTATION METHOD');
INSERT INTO METHOD_CUBE VALUES (21,'VANDENBERGH METHOD');
INSERT INTO METHOD_CUBE VALUES (22,'SHAPE-SHIFTING METHOD');
INSERT INTO METHOD_CUBE VALUES (23,'TOP-DOWN METHOD');
INSERT INTO METHOD_CUBE VALUES (24,'PATTERN METHOD');
INSERT INTO METHOD_CUBE VALUES (25,'OLD POCHMANN METHOD');
INSERT INTO METHOD_CUBE VALUES (26,'M2 METHOD');
INSERT INTO METHOD_CUBE VALUES (27,'CORNERS-FIRST METHOD');
INSERT INTO METHOD_CUBE VALUES (28,'GROUPING TECHNIQUE');
INSERT INTO METHOD_CUBE VALUES (29,'DIVIDE AND CONQUER APPROACH METHOD');
INSERT INTO METHOD_CUBE VALUES (30,'STARTING POSITION STRATEGY METHOD');
INSERT INTO METHOD_CUBE VALUES (31,'ADVANCED METHOD');
INSERT INTO METHOD_CUBE VALUES (32,'ADVANCED REDUCTION METHOD');
INSERT INTO METHOD_CUBE VALUES (33,'CENTERS SOLVING METHOD');
INSERT INTO METHOD_CUBE VALUES (34,'EDGE PAIRING TECHNIQUES');
INSERT INTO METHOD_CUBE VALUES (35,'BACKTRACKING TECHNIQUES');
INSERT INTO METHOD_CUBE VALUES (36,'EXHAUSTIVE SEARCH TECHNIQUES');
INSERT INTO METHOD_CUBE VALUES (37,'ALGORYTHM OPTIMIZATION TECHNIQUES');
INSERT INTO METHOD_CUBE VALUES (38,'MOVE ANALYSIS TECHNIQUES');
COMMIT;


-- HE RELACIONADO EL METODO CON EL TIPO DE CUBO
DROP TABLE TYPE_METHOD_TIENE CASCADE CONSTRAINTS;
CREATE TABLE TYPE_METHOD_TIENE(
    ID_TYPE NUMBER(3) NOT NULL,
    ID_METHOD NUMBER(3) NOT NULL,
    CONSTRAINT pk_tiene_MeTy PRIMARY KEY (ID_TYPE, ID_METHOD),
    CONSTRAINT fk_type_tiene FOREIGN KEY (ID_TYPE) REFERENCES CUBE_TYPE,
    CONSTRAINT fk_method_tiene FOREIGN KEY (ID_METHOD) REFERENCES METHOD_CUBE
);

INSERT INTO TYPE_METHOD_TIENE VALUES (1, 1);
INSERT INTO TYPE_METHOD_TIENE VALUES (1, 2);
INSERT INTO TYPE_METHOD_TIENE VALUES (1, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (1, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (1, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (1, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (1, 18);

INSERT INTO TYPE_METHOD_TIENE VALUES (2, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 6);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 7);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 8);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 9);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 10);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 11);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 12);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 13);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 15);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 17);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (2, 20);

INSERT INTO TYPE_METHOD_TIENE VALUES (3, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 6);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 8);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 10);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 19);
INSERT INTO TYPE_METHOD_TIENE VALUES (3, 24);

INSERT INTO TYPE_METHOD_TIENE VALUES (4, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 6);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 8);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 10);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 21);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 22);
INSERT INTO TYPE_METHOD_TIENE VALUES (4, 24);

INSERT INTO TYPE_METHOD_TIENE VALUES (5, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (5, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (5, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (5, 13);
INSERT INTO TYPE_METHOD_TIENE VALUES (5, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (5, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (5, 23);

INSERT INTO TYPE_METHOD_TIENE VALUES (6, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (6, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (6, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (6, 13);
INSERT INTO TYPE_METHOD_TIENE VALUES (6, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (6, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (6, 23);

INSERT INTO TYPE_METHOD_TIENE VALUES (7, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (7, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (7, 18);

INSERT INTO TYPE_METHOD_TIENE VALUES (8, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (8, 8);
INSERT INTO TYPE_METHOD_TIENE VALUES (8, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (8, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (8, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (8, 22);
INSERT INTO TYPE_METHOD_TIENE VALUES (8, 24);

INSERT INTO TYPE_METHOD_TIENE VALUES (9, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (9, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (9, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (9, 24);
INSERT INTO TYPE_METHOD_TIENE VALUES (9, 31);

INSERT INTO TYPE_METHOD_TIENE VALUES (10, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (10, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (10, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (10, 22);
INSERT INTO TYPE_METHOD_TIENE VALUES (10, 24);
INSERT INTO TYPE_METHOD_TIENE VALUES (10, 31);

INSERT INTO TYPE_METHOD_TIENE VALUES (11, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (11, 24);
INSERT INTO TYPE_METHOD_TIENE VALUES (11, 28);
INSERT INTO TYPE_METHOD_TIENE VALUES (11, 29);
INSERT INTO TYPE_METHOD_TIENE VALUES (11, 30);

INSERT INTO TYPE_METHOD_TIENE VALUES (12, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 6);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 7);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 8);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 9);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 10);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 11);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 12);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 13);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 15);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 17);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (12, 20);

INSERT INTO TYPE_METHOD_TIENE VALUES (13, 13);
INSERT INTO TYPE_METHOD_TIENE VALUES (13, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (13, 15);
INSERT INTO TYPE_METHOD_TIENE VALUES (13, 32);
INSERT INTO TYPE_METHOD_TIENE VALUES (13, 33);
INSERT INTO TYPE_METHOD_TIENE VALUES (13, 34);

INSERT INTO TYPE_METHOD_TIENE VALUES (14, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 6);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 7);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 8);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 9);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 10);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 11);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 12);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 13);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 15);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 17);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (14, 20);

INSERT INTO TYPE_METHOD_TIENE VALUES (15, 3);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 4);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 5);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 6);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 7);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 8);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 9);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 10);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 11);
INSERT INTO TYPE_METHOD_TIENE VALUES (15, 12);

INSERT INTO TYPE_METHOD_TIENE VALUES (16, 15);
INSERT INTO TYPE_METHOD_TIENE VALUES (16, 23);
INSERT INTO TYPE_METHOD_TIENE VALUES (16, 25);
INSERT INTO TYPE_METHOD_TIENE VALUES (16, 26);

INSERT INTO TYPE_METHOD_TIENE VALUES (17, 13);
INSERT INTO TYPE_METHOD_TIENE VALUES (17, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (17, 15);
INSERT INTO TYPE_METHOD_TIENE VALUES (17, 32);
INSERT INTO TYPE_METHOD_TIENE VALUES (17, 33);
INSERT INTO TYPE_METHOD_TIENE VALUES (17, 34);

INSERT INTO TYPE_METHOD_TIENE VALUES (18, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (18, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (18, 24);

INSERT INTO TYPE_METHOD_TIENE VALUES (19, 14);
INSERT INTO TYPE_METHOD_TIENE VALUES (19, 16);
INSERT INTO TYPE_METHOD_TIENE VALUES (19, 18);
INSERT INTO TYPE_METHOD_TIENE VALUES (19, 24);
INSERT INTO TYPE_METHOD_TIENE VALUES (19, 28);

INSERT INTO TYPE_METHOD_TIENE VALUES (20, 28);
INSERT INTO TYPE_METHOD_TIENE VALUES (20, 34);
INSERT INTO TYPE_METHOD_TIENE VALUES (20, 36);
INSERT INTO TYPE_METHOD_TIENE VALUES (20, 37);
INSERT INTO TYPE_METHOD_TIENE VALUES (20, 38);
COMMIT;



DROP TABLE SESSIONS CASCADE CONSTRAINTS;
CREATE TABLE SESSIONS (
    ID_SESSION NUMBER(7) PRIMARY KEY,
    ID_USER NUMBER(7) NOT NULL,    
    NAME_SESSION VARCHAR2(45) NOT NULL,
    CREATION_DATE DATE NOT NULL,   
    CONSTRAINT fk_user_session FOREIGN KEY (ID_USER) REFERENCES CUBE_USERS(ID_USER),
    -- ESTABLEZCO EL NOMBRE DE LA SESSION SIN EL UNIQUE PARA QUE OTRO USUARIO 
    -- PUEDA TENER EL MISMO NOMBRE DE LA SESION QUE OTRO, PERO QUE UN USUARIO
    -- NO PUEDA TENER UNA SESSION CON EL MISMO NOMBRE
    CONSTRAINT UNIQUE_SESSION_NAME UNIQUE (NAME_SESSION, ID_USER)
);

INSERT INTO SESSIONS VALUES (301, 1, 'QUICK SOLVE SESSION',
    TO_DATE('28/02/2023', 'DD/MM/YYYY'));    

INSERT INTO SESSIONS VALUES (302, 3, 'FEWEST MOVES CHALLENGE',
    TO_DATE('30/11/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (303, 7, 'FRIDRICH METHOD STRATEGIES',
    TO_DATE('25/03/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (304, 4, 'ONE-HANDED CUBE PRACTICE',
    TO_DATE('12/05/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (305, 10, 'MULTIBLIND SESSION',
    TO_DATE('25/03/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (306, 14, '3x3 CUBE TOURNAMENT',
    TO_DATE('30/03/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (307, 16, 'INTRODUCTION TO ORTEGA METHOD',
    TO_DATE('11/07/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (308, 11, 'MIRROR CUBE SESSION',
    TO_DATE('09/03/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (309, 1, 'BLINDFOLDED SOLVING TACTICS',
    TO_DATE('04/01/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (310, 22, '4x4 CUBE SEMINAR',
    TO_DATE('24/11/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (311, 19, '5x5 CUBE CHALLENGE',
    TO_DATE('30/03/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (312, 27, 'PETRUS METHOD CLASS',
    TO_DATE('17/12/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (313, 34, 'PYRAMINX SESSION',
    TO_DATE('01/05/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (314, 35, 'STRATEGIES FOR 6x6 CUBES',
    TO_DATE('12/07/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (315, 26, 'MEGAMINX SESSION',
    TO_DATE('14/09/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (316, 33, '7x7 CUBE MARATHON',
    TO_DATE('25/03/2024', 'DD/MM/YYYY'));

INSERT INTO SESSIONS VALUES (317, 17, 'LEARNING ROUX METHOD',
    TO_DATE('12/11/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (318, 49, 'SKEWB CUBE CHALLENGE',
    TO_DATE('03/07/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (319, 28, 'CLOCK CUBE SESSION',
    TO_DATE('31/12/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (320, 47, 'MASTERMORPHIX PRACTICE',
    TO_DATE('01/06/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (321, 12, 'EXPLORING YAU METHOD',
    TO_DATE('18/03/2024', 'DD/MM/YYYY'));

INSERT INTO SESSIONS VALUES (322, 32, 'PYRAMORPHIX CHALLENGE',
    TO_DATE('28/02/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (323, 1, 'REDUCED CUBES SESSION',
    TO_DATE('09/03/2023', 'DD/MM/YYYY'));
   
INSERT INTO SESSIONS VALUES (324, 44, 'REVOLUTION CUBE PRACTICE',
    TO_DATE('28/02/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (325, 39, 'REDUCTION CUBE TOURNAMENT',
    TO_DATE('09/10/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (326, 22, 'FREEFORM CUBE SESSION',
    TO_DATE('14/05/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (327, 21, 'VANDENBERGH CUBE MARATHON',
    TO_DATE('01/01/2024', 'DD/MM/YYYY'));

INSERT INTO SESSIONS VALUES (328, 18, 'MIRROR CUBE STRATEGIES',
    TO_DATE('28/03/2024', 'DD/MM/YYYY'));

INSERT INTO SESSIONS VALUES (329, 19, 'BLOCK SOLVING SESSION',
    TO_DATE('30/03/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (330, 21, 'INTUITIVE METHODS SESSION',
    TO_DATE('29/12/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (331, 35, 'ZBLL CUBE SESSION',
    TO_DATE('06/06/2023', 'DD/MM/YYYY'));
       
INSERT INTO SESSIONS VALUES (332, 43, 'WALTERMAN CUBE CHALLENGE',
    TO_DATE('11/02/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (333, 27, 'VANDENBERG ALGORITHM PRACTICE',
    TO_DATE('19/10/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (334, 29, 'ADVANCED METHODS SESSION',
    TO_DATE('12/01/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (335, 30, 'PATTERN RECOGNITION SESSION',
    TO_DATE('28/02/2024', 'DD/MM/YYYY'));

INSERT INTO SESSIONS VALUES (336, 31, 'SPEED SOLVING SESSION',
    TO_DATE('12/02/2024', 'DD/MM/YYYY'));
   
INSERT INTO SESSIONS VALUES (337, 42, 'ADVANCED CUBING TECHNIQUES',
    TO_DATE('05/01/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (338, 7, 'TWISTY PUZZLE TACTICS',
    TO_DATE('22/01/2023', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (339, 42, 'PUZZLE PERMUTATION SESSION',
    TO_DATE('15/01/2024', 'DD/MM/YYYY'));
    
INSERT INTO SESSIONS VALUES (340, 11, 'CUBOID CHALLENGE SESSION',
    TO_DATE('22/03/2024', 'DD/MM/YYYY'));
COMMIT;
 

DROP TABLE CHAMPIONSHIP CASCADE CONSTRAINTS;
CREATE TABLE CHAMPIONSHIP (
    ID_CHAMP NUMBER(7) PRIMARY KEY,
    -- A�ADO EL ID_USER DE QUIEN HA CREADO LA COMPETENCIA
    ID_USER NUMBER(7) NOT NULL,
    -- EL NOMBRE DE LA COMPETICION SE MODIFICA A UNIQUE PARA QUE NO HAYA UNA
    -- COMPETICION CON EL MISMO NOMBRE
    NAME_CHAMP VARCHAR2(45) UNIQUE NOT NULL,
    -- POR DEFECTO EL PRECIO SE PONDRA EN 0
    PRICE NUMBER(3) DEFAULT 0 NOT NULL,    
    NUMBER_PART NUMBER(7) NOT NULL CHECK (NUMBER_PART >= 2),
    DESCRIPTION_CHAMP VARCHAR2(255) NOT NULL,
    /*RESTRICCI�N PARA ASEGURAR QUE SOLO LOS MIEMBROS PUEDAN CREAR 
    COMPETICIONES EXCLUSIVAS PARA MIEMBROS CON PRECIOS*/
    CONSTRAINT ch_price CHECK (PRICE = 0 OR ID_USER IN (1, 2, 4, 6, 7, 9, 16, 17, 
        20, 21, 25, 28, 32, 33, 37, 40, 43, 44, 45, 47, 49, 50)),
    CONSTRAINT fk_user_champ FOREIGN KEY (ID_USER) REFERENCES CUBE_USERS
);
    
INSERT INTO CHAMPIONSHIP VALUES (121, 3, 'RUBIK�S CUBE CHAMPIONSHIP', 0,5,
    '3x3x3 AND PYRAMINX CUBE CATEGORIES.');    
INSERT INTO CHAMPIONSHIP VALUES (122, 2,'QUICK CUBING CLASH', 10, 4, 
    '3x3x3 BLIND, MEGAMINX AND PYRAMINX CUBE CATEGORIES.');
COMMIT;   
/*MAS CAMPEONATOS EJEMPLOS:
INSERT INTO CHAMPIONSHIP VALUES (123, 5, 'CUBOFEST CHALLENGE', 0, 2, 
    '5x5x5 AND 3X3X3 BLIND CUBE CATEGORIES.');
INSERT INTO CHAMPIONSHIP VALUES (124, 42, 'CUBOMANIA MASTERS', 0, 3, 
    '7x7x7 CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (125, 15, 'RUBIK�S RUMBLE ROYALE',0, 2,
    '3x3x3 AND CLOCK CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (126, 35, 'SPEEDCUBING SLAMDOWN', 0, 2,
    'SKEWB AND 3x3x3 MIRROR CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (127, 32, 'CUBEMASTER CHALLENGE', 15, 3,
    'SQUARE-1 CUBE CATEGORY');
INSERT INTO CHAMPIONSHIP VALUES (128, 41, 'TWISTY PUZZLE TOURNAMENT', 0, 2,
    '3x3x3 AND 3x3x3 MIRROR CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (129, 24, 'CUBING CHAMPIONSHIP CLASH', 0, 3,
    '4x4x4 BLIND CUBE CATEGORY');
INSERT INTO CHAMPIONSHIP VALUES (130, 35, 'RAPID RUBIK�S RACE', 0, 2,
    'SKEWB, PYRAMINX CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (131, 28, 'CUBEQUEST GRAND PRIX', 15, 2, 
    '2x2x2 AND 3x3x3 ONE-HANDED CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (132, 46, 'SPEEDCUBE SPRINT SERIES', 0, 4,
    '3x3x3 CUBE CATEGORY');
INSERT INTO CHAMPIONSHIP VALUES (133, 5, 'TWISTY TRIUMPH TOURNAMENT', 0, 2,
    '3x3x3, AND 5x5x5 CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (134, 2, 'CUBING CHALLENGE CHAMPIONSHIP', 20, 4,
    '3x3x3 MULTIBLIND CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (135, 11, 'RUBIK�S RACE ROYALE', 0, 4,
    '2x2x2 CUBE CATEGORIES');
INSERT INTO CHAMPIONSHIP VALUES (136, 4, 'SPEEDCUBE SMASH', 19, 2,
    '4x4x4 BLIND AND SKEWB CUBE CATEGORIES');*/



DROP TABLE CUBE_CHAMP_PERTENECE CASCADE CONSTRAINTS;
CREATE TABLE CUBE_CHAMP_PERTENECE(
    ID_TYPE NUMBER(3) NOT NULL,
    ID_CHAMP NUMBER(7) NOT NULL,    
    -- EN VEZ DE PONER EL GANADOR EN LA RELACION ENTRE EL USUARIO Y EL CAMPEONATO
    -- LO ESTABLEZCO EN LA RELACION DEL TIPO DE CUBO Y EL CAMPEONATO, YA QUE EN
    -- UN CAMPEONATO PUEDE HABER VARIAS CATEGORIAS Y VARIOS GANADORES
    WINNER VARCHAR2(45),
    CONSTRAINT pk_CubChaPertenece PRIMARY KEY (ID_TYPE, ID_CHAMP),
    CONSTRAINT fk_type_pertenece FOREIGN KEY (ID_TYPE) REFERENCES CUBE_TYPE,
    CONSTRAINT fk_champ_pertenece FOREIGN KEY (ID_CHAMP) REFERENCES CHAMPIONSHIP
);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (2, 121, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (7, 121, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (15, 122, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (8, 122, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (7, 122, null);
COMMIT;
/*DE LOS OTROS CAMPEONATOS DE EJEMPLOS:
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (4, 123, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (15, 123, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (6, 124, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (2, 125, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (11, 125, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (9, 126, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (12, 126, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (10, 127, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (2, 128, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (12, 128, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (17, 129, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (9, 130, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (7, 130, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (1, 131, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (14, 131, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (2, 132, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (2, 133, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (4, 133, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (16, 134, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (1, 135, null);

INSERT INTO CUBE_CHAMP_PERTENECE VALUES (17, 136, null);
INSERT INTO CUBE_CHAMP_PERTENECE VALUES (9, 136, null);*/


DROP TABLE USER_CHAMP_COMPETE CASCADE CONSTRAINTS;
CREATE TABLE USER_CHAMP_COMPETE(
    ID_USER NUMBER(7) NOT NULL,
    ID_CHAMP NUMBER(7) NOT NULL, 
    -- QUITO EL GANADOR
    CONSTRAINT pk_compete PRIMARY KEY (ID_USER, ID_CHAMP),
    /*RESTRICCI�N PARA ASEGURAR QUE SOLO LOS MIEMBROS PARTICIPEN EN 
    COMPETICIONES EXCLUSIVAS PARA MIEMBROS*/
    CONSTRAINT ch_members CHECK (
    (ID_CHAMP IN (122, 127, 131, 134, 136) AND ID_USER IN (1, 2, 4, 6, 7, 9, 16, 
    17, 20, 21, 25, 28, 32, 33, 37, 40, 43, 44, 45, 47, 49, 50)) OR
        (ID_CHAMP NOT IN (122, 127, 131, 134, 136))),
    CONSTRAINT fk_user_compete FOREIGN KEY (ID_USER) REFERENCES CUBE_USERS,
    CONSTRAINT fk_champ_compete FOREIGN KEY (ID_CHAMP) REFERENCES CHAMPIONSHIP
);

INSERT INTO USER_CHAMP_COMPETE VALUES (3, 121);
INSERT INTO USER_CHAMP_COMPETE VALUES (20, 121);
INSERT INTO USER_CHAMP_COMPETE VALUES (41, 121);
INSERT INTO USER_CHAMP_COMPETE VALUES (17, 121);
INSERT INTO USER_CHAMP_COMPETE VALUES (21, 121);

INSERT INTO USER_CHAMP_COMPETE VALUES (32, 122); /*MEMBERS*/
INSERT INTO USER_CHAMP_COMPETE VALUES (37, 122);
INSERT INTO USER_CHAMP_COMPETE VALUES (7, 122);
INSERT INTO USER_CHAMP_COMPETE VALUES (6, 122);
COMMIT;
/*DE LOS OTROS CAMPEONATOS DE EJEMPLOS:
INSERT INTO USER_CHAMP_COMPETE VALUES (21, 123);
INSERT INTO USER_CHAMP_COMPETE VALUES (1, 123);

INSERT INTO USER_CHAMP_COMPETE VALUES (46, 124);
INSERT INTO USER_CHAMP_COMPETE VALUES (2, 124);
INSERT INTO USER_CHAMP_COMPETE VALUES (20, 124);

INSERT INTO USER_CHAMP_COMPETE VALUES (43, 125);
INSERT INTO USER_CHAMP_COMPETE VALUES (41, 125);

INSERT INTO USER_CHAMP_COMPETE VALUES (19, 126);
INSERT INTO USER_CHAMP_COMPETE VALUES (38, 126);

INSERT INTO USER_CHAMP_COMPETE VALUES (1, 127); MEMBERS
INSERT INTO USER_CHAMP_COMPETE VALUES (28, 127);
INSERT INTO USER_CHAMP_COMPETE VALUES (2, 127);

INSERT INTO USER_CHAMP_COMPETE VALUES (10, 128);
INSERT INTO USER_CHAMP_COMPETE VALUES (20, 128);

INSERT INTO USER_CHAMP_COMPETE VALUES (1, 129);
INSERT INTO USER_CHAMP_COMPETE VALUES (6, 129);
INSERT INTO USER_CHAMP_COMPETE VALUES (18, 129);

INSERT INTO USER_CHAMP_COMPETE VALUES (1, 130);
INSERT INTO USER_CHAMP_COMPETE VALUES (2, 130);

INSERT INTO USER_CHAMP_COMPETE VALUES (16, 131); MEMBERS
INSERT INTO USER_CHAMP_COMPETE VALUES (1, 131);

INSERT INTO USER_CHAMP_COMPETE VALUES (6, 131, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (4, 131, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (1, 131, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (7, 131, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (21, 131, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (33, 131, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (50, 131, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (2, 131, null);

INSERT INTO USER_CHAMP_COMPETE VALUES (4, 132, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (8, 132, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (49, 132, null);

INSERT INTO USER_CHAMP_COMPETE VALUES (16, 133, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (7, 133, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (24, 133, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (18, 133, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (2, 133, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (29, 133, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (25, 133, null);

INSERT INTO USER_CHAMP_COMPETE VALUES (20, 134, null); MEMBERS
INSERT INTO USER_CHAMP_COMPETE VALUES (2, 134, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (16, 134, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (1, 134, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (17, 134, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (43, 134, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (6, 134, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (4, 134, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (25, 134, null);

INSERT INTO USER_CHAMP_COMPETE VALUES (40, 135, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (3, 135, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (16, 135, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (35, 135, null);

INSERT INTO USER_CHAMP_COMPETE VALUES (16, 136, null); MEMBERS  
INSERT INTO USER_CHAMP_COMPETE VALUES (9, 136, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (2, 136, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (4, 136, null);
INSERT INTO USER_CHAMP_COMPETE VALUES (20, 136, null);*/



DROP TABLE COMPETITION CASCADE CONSTRAINTS;
CREATE TABLE COMPETITION(
    ID_COMPE NUMBER(7) PRIMARY KEY, 
    ID_USER NUMBER(7) NOT NULL,
    -- HE A�ADIDO DOS ATRIBUTOS PARA GUARDAR LOS NOMBRES DE LOS DOS COMPETIDORES
    CUBER1 VARCHAR2(45) NOT NULL, 
    CUBER2 VARCHAR2(45) NOT NULL,
    -- CAMBIO EL WINNER A NULL PARA PRIMERO CALCULAR LOS TIEMPOS Y SACAR EL MINIMO
    WINNER VARCHAR2(45),
    -- LOS COMMENTS Y LA DURACION PASAN A DECLARARSE EN LA TABLA SCRAMBLE
    CONSTRAINT ch_NoEqualName CHECK (CUBER1 NOT LIKE CUBER2),
    CONSTRAINT fk_user_compe FOREIGN KEY (ID_USER) REFERENCES CUBE_USERS
);

-- LOS NOMBRE DE LOS COMPETIDORES SERAN EL MISMO USUARIO Y OTRO NOMBRE DE OTRO 
-- COMPETIDOR 
INSERT INTO COMPETITION VALUES (220, 1, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 1), 'ElJoaki', null);

INSERT INTO COMPETITION VALUES (221, 3, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 3), 'FELIKS ZEMDEGS', null);
    
INSERT INTO COMPETITION VALUES (222, 1, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 1), 'MAX PARK', null);
    
INSERT INTO COMPETITION VALUES (223, 10, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 10), 'MATS VALK', null);
    
INSERT INTO COMPETITION VALUES (224, 11, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 11), 'SEUNGBEOM CHO (TYMON)', null);
    
INSERT INTO COMPETITION VALUES (225, 9, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 9), 'PATRICK PONCE', null);
    
INSERT INTO COMPETITION VALUES (226, 20, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 20), 'YUSHENG DU', null);
    
INSERT INTO COMPETITION VALUES (227, 20, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 20), 'PHILIPP WEYER', null);
    
INSERT INTO COMPETITION VALUES (228, 16, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 16), 'RAMI SBAHI', null);
    
INSERT INTO COMPETITION VALUES (229, 12, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 12), 'LUCAS ETTER', null);
    
INSERT INTO COMPETITION VALUES (230, 5, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 5), 'BILL WANG', null);

INSERT INTO COMPETITION VALUES (231, 6, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 6), 'DREW BRADS', null);
    
INSERT INTO COMPETITION VALUES (232, 5, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 5), 'KEVIN HAYS', null);
    
INSERT INTO COMPETITION VALUES (233, 2, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 2), 'ANTOINE CANTIN', null);
    
INSERT INTO COMPETITION VALUES (234, 1, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 1), 'MAX SIAUW', null);
    
INSERT INTO COMPETITION VALUES (235, 14, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 14), 'FELIKS ZEMDEGS', null);
    
INSERT INTO COMPETITION VALUES (236, 18, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 18), 'MAX PARK', null);
    
INSERT INTO COMPETITION VALUES (237, 19, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 19), 'MATS VALK', null);
    
INSERT INTO COMPETITION VALUES (238, 1, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 1), 'FELIKS ZEMDEGS', null);
    
INSERT INTO COMPETITION VALUES (239, 21, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 21), 'ElJoaki', null);

INSERT INTO COMPETITION VALUES (240, 9, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 9), 'FELIKS ZEMDEGS', null);
    
INSERT INTO COMPETITION VALUES (241, 22, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 22), 'SolveMaestro', null);

INSERT INTO COMPETITION VALUES (242, 25, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 25), 'TwistyTyphoon', null);

INSERT INTO COMPETITION VALUES (243, 34, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 34), 'MATS VALK', null);

INSERT INTO COMPETITION VALUES (244, 29, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 29), 'CubingFanatic', null);

INSERT INTO COMPETITION VALUES (245, 46, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 46), 'PuzzlePhenom', null);

INSERT INTO COMPETITION VALUES (246, 38, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 38), 'TwistyGuru', null);

INSERT INTO COMPETITION VALUES (247, 48, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 48), 'FELIKS ZEMDEGS', null);

INSERT INTO COMPETITION VALUES (248, 41, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 41), 'MAX PARK', null);

INSERT INTO COMPETITION VALUES (249, 35, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 35), 'PuzzleMaestro', null);

INSERT INTO COMPETITION VALUES (250, 42, 
    (SELECT NAME_USER FROM CUBE_USERS WHERE ID_USER = 42), 'SpeedCubingGuru', null);   
COMMIT;



DROP TABLE AVERAGE CASCADE CONSTRAINTS;
CREATE TABLE AVERAGE (
    ID_AVERAGE NUMBER(7) PRIMARY KEY,
    -- ESTABLEZCO TODO EN NULL PARA LUEGO ACTUALIZARLES CON LOS VALORES
    AVG_MINUTES NUMBER(2),
    AVG_SECONDS DECIMAL(5, 3),
    PERIOD_AVG NUMBER(3),
    PB_MINUTES NUMBER(2),
    PB_SECONDS DECIMAL(5, 3),
    WORST_MINUTES NUMBER(2),
    WORST_SECONDS DECIMAL(5, 3)
    -- ELIMINO LA FECHA
);

INSERT INTO AVERAGE VALUES(1, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(2, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(3, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(4, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(5, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(6, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(7, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(8, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(9, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(10, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(11, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(12, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(13, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(14, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(15, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(16, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(17, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(18, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(19, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(20, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(21, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(22, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(23, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(24, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(25, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(26, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(27, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(28, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(29, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(30, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(31, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(32, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(33, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(34, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(35, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(36, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(37, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(38, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(39, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(40, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(41, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(42, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(43, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(44, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(45, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(46, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(47, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(48, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(49, null, null, null, null, null, null, null);
INSERT INTO AVERAGE VALUES(50, null, null, null, null, null, null, null);
COMMIT;



DROP TABLE SCRAMBLE CASCADE CONSTRAINTS;
CREATE TABLE SCRAMBLE (
    ID_SCRAMBLE NUMBER(15) PRIMARY KEY,
    ID_USER NUMBER(7) NOT NULL,    
    DESCRIPTION_SCRAMBLE VARCHAR2(455) UNIQUE NOT NULL,
    MINUTES1 NUMBER(2) NOT NULL,
    SECONDS1 DECIMAL(5, 3) NOT NULL,
    MINUTES2 NUMBER(2),
    SECONDS2 DECIMAL(5, 3),
    -- HE ESTABLECIDO 2 COMMENTARIOS PARA CADA USUARIO, PARA DAR EL VALOR DE 
    -- +2 O DNF PARA MANEJAR MEJOR LOS TIEMPOS
    COMMENTS1 VARCHAR2(255),
    COMMENTS2 VARCHAR2(255),
    REGISTRATION_DATE DATE NOT NULL,
    ID_COMPE NUMBER(7),
    ID_CHAMP NUMBER(7),
    ID_AVERAGE NUMBER(7),
    ID_SESSION NUMBER(7),
    ID_TYPE NUMBER(3) NOT NULL, 
    -- RESTRICCION PARA QUE LOS MINUTOS EN LAS CATEGORIAS DE 2X2X2 Y 3X3X3 NO 
    -- SUPEREN LOS 10 MINUTOS
    CONSTRAINT chk_minutes1 CHECK (MINUTES1 < 10 OR ID_TYPE NOT IN (1,2)),
    CONSTRAINT chk_minutes2 CHECK (MINUTES2 < 10 OR ID_TYPE NOT IN (1,2)),
    CONSTRAINT fk_user_scramble FOREIGN KEY (ID_USER) REFERENCES CUBE_USERS,
    CONSTRAINT fk_champ_scramble FOREIGN KEY (ID_CHAMP) REFERENCES CHAMPIONSHIP,
    CONSTRAINT fk_average_times FOREIGN KEY (ID_AVERAGE) REFERENCES AVERAGE,
    CONSTRAINT fk_session_times FOREIGN KEY (ID_SESSION) REFERENCES SESSIONS,
    CONSTRAINT fk_type_times FOREIGN KEY (ID_TYPE) REFERENCES CUBE_TYPE,
    CONSTRAINT fk_scramble_compe FOREIGN KEY (ID_COMPE) REFERENCES COMPETITION
);

-- COMPETITION'S TIME
INSERT INTO SCRAMBLE VALUES (210, 
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 220), 
    '-3,5 / 0,4 / 0,-3 / 6,3 / -2,3 / 5,6 / 6,0 / 3,-4 / 0,6 / 4,2 /
    0,-3 / 0,2 / -4,1 / -2,4 / 1,-2 / 0,-2 /', 2, 31.333, 5, 09.286, null, null,
    TO_DATE('25/01/2023', 'DD/MM/YYYY'), 220, null, null, null, 10);
    
INSERT INTO SCRAMBLE VALUES (211, 
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 221), 
    'D� R2 U� B2 F L U B� L� U F2 B U2 F� B� U B L F2 D F2 U2 D L� U', 
    0, 16.741, 0, 18.482, null, '+2',
    TO_DATE('15/02/2024', 'DD/MM/YYYY'), 221, null, null, null, 2);
    
INSERT INTO SCRAMBLE VALUES (212,  
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 222), 
    'B L D22 U32 F - R2 D` L3 F L22 - F3 B2 R L2 D32 - U2 B2` U32 F22 U2` - R`
    B2 U2` L22 D22 - U22 B2` L` B32 F2` - L3 D2 R32 F` D22 - R3` F B22 D3` R22 
    - F22 R32 U2` B2 R3 - U L32 F32 R22 L3 - U32 R3 U3` B` R32 - L32 B2 U` L`
    D - B2 R` F3` U32 B3` - L32 R2` U22 D3` F` - L3` F` L` U22 D3 - F3 U L3` R`
    U22 - L` U22 L3 R` F22 - R2 U2 R32 U2 D`', 9, 34.183, 3, 12.780, null, null,
    TO_DATE('12/05/2023', 'DD/MM/YYYY'), 222, null, null, null, 6);
    
   
INSERT INTO SCRAMBLE VALUES (213,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 223), 
    'D22 B2 F2 R2 L2 - B L D22 R2 L2` - B2 R2` D` U2 B2 - L2 U2` R2 U2` L22 - 
    D2 R` L22 B2 R2 - U F R22 B` D22 - B22 U22 L2 B2 U22 - D` F2 B2` L2 U2 - 
    L22 U R` L2 F2` - B22 L22 R22 B` U` - F2` L` F B` L2` - R2` B U22 R B2`', 
    1, 34.223, 0, 32.534, 'DNF', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), 223, null, null, null, 4);
    
INSERT INTO SCRAMBLE VALUES (214,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 224), 
    'L` F R` F` L` B` R` F B` R` L F L R` B F R F B` F L B` F` B` L', 
    0, 9.345, 0, 1.295, null, null,
    TO_DATE('28/02/2024', 'DD/MM/YYYY'), 224, null, null, null, 9);
    
INSERT INTO SCRAMBLE VALUES (215,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 225), 
    'F R F R2 U R F2 R2 U2', 0, 1.493, 0, 0.761, '+2', '+2',
    TO_DATE('13/02/2024', 'DD/MM/YYYY'), 225, null, null, null, 1);
    
    
INSERT INTO SCRAMBLE VALUES (216,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 226), 
    'U B2� U2 L� R22 - D� B2 D2� B2 D - L2 B22 L2 F2� D - F22 B2� R2 U2� D - 
    B2 L� B2 U2� R2� - B F L2� D2 F� - U� D2� R2 L� B� - L2 D2 F L2 F2� - R2 B2 
    U22 D2 L - B2 R2� D� U L2 - D2 B2� U R2 L22 - U22 L2 R F2� L�', 
    2, 13.463, 4, 13.886, '+2', null,
    TO_DATE('11/05/2023', 'DD/MM/YYYY'), 226, null, null, null, 13);
    
INSERT INTO SCRAMBLE VALUES (217,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 227), 
    'L B U` B` L` U B` L R` u` l r', 0, 2.989, 0, 1.542, null, null,
    TO_DATE('12/05/2023', 'DD/MM/YYYY'), 227, null, null, null, 7);
    
INSERT INTO SCRAMBLE VALUES (218,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 228), 
    'F3 R D2 U2` B` - U3 L` D3 U2 R3 - D2` U R3` F3` R32 - B3` U2 R3 L2 D22 - 
    B2 F3` R2 F22 L3` - U R L3 D R2 - L2 U3 B22 F32 L2 - F2 R22 L2` U3 R3` - 
    U32 R22 D2 F2 R2 - D32 R2 F3 D2 U - F3` L2 B32 U D2` - F2 R32 U32 F3 U2` - 
    R` U32 F R3 F32 - L3 D22 B2 L3 D3` - B22 R22 D22 B2` U32 - R22 L2 B U22 B2', 
    7, 0.161, 5, 45.232, null, null,
    TO_DATE('24/06/2023', 'DD/MM/YYYY'), 228, null, null, null, 5);
    
INSERT INTO SCRAMBLE VALUES (219,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 229), 
    'U R2 U` R2 F2 R U F U`', 0, 8.332, 0, 3.725, null, null,
    TO_DATE('20/03/2024', 'DD/MM/YYYY'), 229, null, null, null, 1);
    
INSERT INTO SCRAMBLE VALUES (220,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 230), 
    'L2 U2 B L D` R` L` D2 B F U F U2 B F R` F2 B` U2 D L2 U2 R F B', 
    2, 03.239, 4, 45.234, null, 'DNF',
    TO_DATE('14/02/2024', 'DD/MM/YYYY'), 230, null, null, null, 20);
    
INSERT INTO SCRAMBLE VALUES (221,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 231), 
    'R2 U L` R2 U D` B2 U D` F` B` L` R2 D R` D F` U R2 B U L R2 U` L2', 
    56, 23.112, 54, 11.946, 'DNF', 'DNF',
    TO_DATE('25/07/2023', 'DD/MM/YYYY'), 231, null, null, null, 16);
    
    
INSERT INTO SCRAMBLE VALUES (222,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 232), 
    'B` R` U` F2 B` U` L2 U2 F` B2 R B` U2 L U F2 R D` U2 B U R2 U2 B` D`', 
    0, 7.432, 18, 09.214, null, 'DNF',
    TO_DATE('28/02/2024', 'DD/MM/YYYY'), 232, null, null, null, 14);
    
INSERT INTO SCRAMBLE VALUES (223,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 233), 
    'D-- R-- D-- R-- D++ R-- D-- R++ D-- R++ U D++ R++ D++ R-- D++ R-- D++ R++ 
    D++ R-- U` R++ D++ R-- D++ R++ D-- R-- D++ R++ D++ U` D++ R++ D-- R-- D++ 
    R++ D-- R-- D++ R-- U` R++ D++ R-- D++ R++ D++ R++ D-- R-- D++ U` D-- R-- 
    D++ R++ D++ R++ D-- R++ D++ R-- U` R++ D-- R-- D++ R++ D++ R++ D++ R++ D-- 
    U', 1, 49.432, 3, 12.321, null, null,
    TO_DATE('31/03/2023', 'DD/MM/YYYY'), 233, null, null, null, 8);
    
INSERT INTO SCRAMBLE VALUES (224,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 234), 
    '(UdUd, 1, 1) (dddd, 3, -4) (dUUd, 4, -3) (UUUd, 1, -2) (Uddd, 4, 2) - 
    (ddUd, 4, 6) (UdUd, 4, 3) (dUdd, 4, -4) (UUdU, 3, 3) (UdUd, 3, 5) - 
    (dUdd, 1, -3) (UddU, 3, 4)', 0, 6.234, 0, 1.432, null, '+2',
    TO_DATE('31/03/2023', 'DD/MM/YYYY'), 234, null, null, null, 11);
    
INSERT INTO SCRAMBLE VALUES (225,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 235), 
    'L2 D U22 L` R22 - D22 R D2 L2 U - B` R` B F2` L2` - D22 F22 U2 L2 F2` - 
    L B` F2 R U2 - F2 R2 D` L2` F22 - R2` B2` R U` F` - L22 F2` R22 D22 B2`', 
    0, 40.432, 0, 20.174, null, null,
    TO_DATE('30/03/2024', 'DD/MM/YYYY'), 235, null, null, null, 3);
    
INSERT INTO SCRAMBLE VALUES (226,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 236), 
    'R` U2 F2 R2 F2 R2 U` F U2', 0, 3.234, 0, 3.233, null, null,
    TO_DATE('28/03/2024', 'DD/MM/YYYY'), 236, null, null, null, 1);
    
INSERT INTO SCRAMBLE VALUES (227,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 237), 
    'U2 F D B R` D` B` U2 R` B L2 R D2 R2 D F` B2 D L` B` F R F` D` B`', 
    0, 17.472, 0, 14.432, null, '+2',
    TO_DATE('30/03/2024', 'DD/MM/YYYY'), 237, null, null, null, 12);
    
INSERT INTO SCRAMBLE VALUES (228,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 238), 
    'D` F` B2 L2 B L U B F L F` U` R B2 F` U` B` F` U` B R L2 B R L', 
    0, 5.153, 0, 11.234, '+2', null,
    TO_DATE('22/11/2023', 'DD/MM/YYYY'), 238, null, null, null, 2);
    
INSERT INTO SCRAMBLE VALUES (229,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 239), 
    'B L F L U D` L D U` L` B2 F U2 R2 U2 F2 B U L` F L` D2 F2 R2 L', 
    1, 43.243, 0, 24.435, null, null,
    TO_DATE('28/02/2024', 'DD/MM/YYYY'), 239, null, null, null, 15);
    
INSERT INTO SCRAMBLE VALUES (230,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 240), 
    'D2` U2 R2 B` L22 - D2 L F2 R` B - L22 D2 B2 L2 D2 - L2 U R2 U D` - L` B U2 
    B2 D2` - B2 F22 R` F2` D2` - R2 D2 B` R2 L2` - B` F2` L2 U` R`',
    59, 12.432, 56, 24.334, null, null,
    TO_DATE('01/02/2024', 'DD/MM/YYYY'), 240, null, null, null, 17);
    
INSERT INTO SCRAMBLE VALUES (231,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 241), 
    'F` L` F B` F` B R F L` F` R B L F` L` F` B` L R B R B` L` R F`', 
    0, 20.432, 0, 08.143, null, null,
    TO_DATE('28/02/2024', 'DD/MM/YYYY'), 241, null, null, null, 9);
    
INSERT INTO SCRAMBLE VALUES (232,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 242), 
    '0,6 / -3,6 / -3,-3 / 6,-3 / 1,6 / 2,0 / 3,6 / 3,6 / 3,6 / 4,0 /
    5,6 / 2,6 / 2,5 / -2,-4 / 0,2 / 2,3 /', 0, 14.112, 0, 12.397, null, '+2',
    TO_DATE('14/09/23', 'DD/MM/YYYY'), 242, null, null, null, 10);
    
INSERT INTO SCRAMBLE VALUES (233,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 243), 
    'R B2 R B` F U2 F2 L R` F B` U` B` D L2 D2 U` F2 D` R` L` B2 D U2 R2', 
    0, 07.543, 0, 15.543, null, null,
    TO_DATE('22/07/23', 'DD/MM/YYYY'), 243, null, null, null, 2);
    
INSERT INTO SCRAMBLE VALUES (234,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 244), 
    'U` F R F U` F` U R F`', 0, 08.124, 0, 02.421, null, null,
    TO_DATE('25/12/23', 'DD/MM/YYYY'), 244, null, null, null, 1);
    
INSERT INTO SCRAMBLE VALUES (235,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 245), 
    'D++ R++ D++ R++ D-- R++ D-- R++ D++ R++ U D++ R++ D++ R++ D-- R-- D-- 
    R-- D-- R++ U R++ D-- R++ D++ R-- D-- R++ D++ R-- D-- U` D-- R++ D-- R++ 
    D++ R++ D-- R++ D++ R++ U` D++ R-- D++ R++ D-- R-- D++ R-- D-- R++ U`
    D++ R-- D-- R-- D++ R++ D++ R-- D-- R-- U` R-- D-- R++ D++ R++ D++ R-- D-- 
    R++ D++ U`', 5, 43.222, 3, 12.854, 'DNF', null,
    TO_DATE('9/04/2024', 'DD/MM/YYYY'), 245, null, null, null, 8);
    
INSERT INTO SCRAMBLE VALUES (236,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 246), 
    '(dUdd, 2, 1) (UUUd, 2, 2) (dUdU, 3, -3) (ddUd, 3, 4) (UdUd, 4, 2) - 
    (ddUU, 2, -1) (dUdU, 1, 5) (ddUd, 1, -2) (dddd, 4, 3) (dddU, 4, 6) - 
    (UUdU, 2, -5) (ddUd, 1, 4)', 0, 15.543, 0, 45.143, null, null,
    TO_DATE('07/11/23', 'DD/MM/YYYY'), 246, null, null, null, 11);
    
INSERT INTO SCRAMBLE VALUES (237,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 247), 
    'U2 B2 D2 L D22 - U2 B2` U22 R2` D22 - L2` D22 L32 D3 U2` - F22 B2` L22 D32 
    R32 - F32 R22 L2 B F2 - L3` U3` B2 F2 R32 - F3` U2` D F3 U2 - R32 L2` F2` U 
    F2 - U3` L3` U32 D2 B2 - F2` R3 F32 R3` B22 - F22 D22 F3 R22 L2` - D2 L3 F2 
    D R2 - U2` R3 B32 R2` B2` - U3 R2 D3 F32 D - F3 L` R2 B2 R2 - U3 B32 F22 U2`
    F2', 65, 42.663, 67, 12.944, null, null,
    TO_DATE('14/08/23', 'DD/MM/YYYY'), 247, null, null, null, 5);
    
INSERT INTO SCRAMBLE VALUES (238,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 248), 
    'F22 B2� U2 B22 R - U22 F R2� U2� B2 - U2� D2� F D22 U22 - F� D2 R22 D2� F� 
    - B22 L� F D2 L2 - R2� D2� F� U2� D2 - B2� F2� D22 F L2 - F� B L D R2 - F2 
    L2 U2 B F2 - L2 R2 B F L2 - F2 B R2 L2 B2� - U2 D22 L2 D2� L', 
    68, 43.142, 62, 12.985, null, null,
    TO_DATE('01/02/2024', 'DD/MM/YYYY'), 248, null, null, null, 13);
    
INSERT INTO SCRAMBLE VALUES (239,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 249), 
    'R F2 L` B2 R2 L F` R B F` D` U` F` U` F D2 R2 U` R` B U` B U F` B',
    0, 24.578, 0, 17.956, null, '+2',
    TO_DATE('28/05/2023', 'DD/MM/YYYY'), 249, null, null, null, 2);
    
INSERT INTO SCRAMBLE VALUES (240,   
    (SELECT ID_USER FROM COMPETITION WHERE ID_COMPE = 250), 
    'F B2 R F� U F U� R2 L F B D R F2 B L� D U B R2 L D� R� B2 D', 
    3, 23.677, 4, 00.144, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), 250, null, null, null, 15); 



/*COMPETENCIA 121 : 3, 20, 41, 17, 21*/
            /*CATEGORIA 3X3X3*/
INSERT INTO SCRAMBLE VALUES (241, 3, 
    'U R` B R` L` U2 F B` R U` R2 F2 U` L R2 U L` F B` U B F D F` D`', 
    0, 16.095, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 1, null, 2); 
    
INSERT INTO SCRAMBLE VALUES (242, 3, 
    'B` R` U2 R2 F2 L2 D` R L` U R F` B2 L` B` F` D` R U2 B L2 B2 F2 U2 L', 
    0, 14.035, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 1, null, 2); 
    
INSERT INTO SCRAMBLE VALUES (243, 3, 
    'D U F` D` B` L2 F U L F D2 L` U2 F` U` F2 U` D` R U F2 D` B D` B`', 
    0, 14.049, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 1, null, 2); 
    
INSERT INTO SCRAMBLE VALUES (244, 3, 
    'U` F` L` D2 B L2 B2 R U2 F R` F B2 R2 B` L D F U` D R U2 R` F B', 
    0, 14.227, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 1, null, 2); 
    
INSERT INTO SCRAMBLE VALUES (245, 3, 
    'L` D F` U R` D U` F2 R B` R` D B` U` D2 L` U` B L` F` U2 B F U2 L', 
    0, 16.938, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 1, null, 2); 
    
    
    
INSERT INTO SCRAMBLE VALUES (246, 20, 
    'B` F D R` L` D2 R F` R2 U B2 R D` R2 U L U` D L B2 F` L2 F2 L` B2', 
    1, 15.786, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 2, null, 2); 
    
INSERT INTO SCRAMBLE VALUES (247, 20, 
    'D2 L2 B D` B2 D R2 F` U2 L2 U B` R F L D2 F L2 D` F L` U2 R` U L2', 
    1, 17.817, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 2, null, 2); 

INSERT INTO SCRAMBLE VALUES (248, 20, 
    'B2 L2 B` L2 U` L F` D` B2 L` U` L R U` R2 F` B R B` U D F U D`', 
    0, 49.149, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 2, null, 2); 

INSERT INTO SCRAMBLE VALUES (249, 20, 
    'F2 F` L` U2 L2 B L2 U2 R` B` L2 R` B` U2 F` L R U2 R U B` R L` U R F', 
    1, 17.124, null, null, '+2', null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 2, null, 2); 

INSERT INTO SCRAMBLE VALUES (250, 20, 
    'U` L R D B L F B` L` F B` R2 F` L` R D2 F2 B L R` F U` D` F2 B`', 
    0, 46.143, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 2, null, 2); 
   
   
   
INSERT INTO SCRAMBLE VALUES (251, 41, 
    'L` R2 F2 U F L` B` U` L` U2 F2 U2 B2 F U` B` F` L2 U D L R2 U B R', 
    0, 18.702, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 3, null, 2); 
   
INSERT INTO SCRAMBLE VALUES (252, 41, 
    'B2 D2 R2 F2 B2 D` F D R2 B U B2 U` F U R` F` B` L` F` L2 R D B` U`', 
    0, 16.240, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 3, null, 2);     

INSERT INTO SCRAMBLE VALUES (253, 41, 
    'B2 U F` B` U` B R` B2 D` B U B` R` F B` L2 B R2 F B` U` R2 D R2 F2', 
    0, 19.907, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 3, null, 2);     
    
INSERT INTO SCRAMBLE VALUES (254, 41, 
    'B` D` L2 R2 U L2 D2 U2 L U D` B2 U2 D` R F R` D B2 F L` B2 D` R` U`', 
    0, 20.907, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 3, null, 2);     
    
INSERT INTO SCRAMBLE VALUES (255, 41, 
    'R` F B2 U R` L B L2 B R B L F2 B` L2 U2 R` F` D2 B` L` F2 B D L`', 
    0, 17.171, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 3, null, 2);     
    
    
    
INSERT INTO SCRAMBLE VALUES (256, 17, 
    'D L` F L` R L D2 R` D` U2 R2 L F U L D` F U` D2 R L` B` R2 L` D2 U` L`', 
    0, 15.400, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 4, null, 2);   
    
INSERT INTO SCRAMBLE VALUES (257, 17, 
    'B2 R2 D2 L U` F` U L` U L R2 U2 F R D` U2 R2 F B` R U2 D` R` B2 R L2', 
    0, 15.844, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 4, null, 2);    
    
INSERT INTO SCRAMBLE VALUES (258, 17, 
    'F B` U` R F` L` D U2 F2 U2 B F2 U` D2 R U2 R` B2 L` R D2 U L2 B2 F2 D` R', 
    0, 19.213, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 4, null, 2);    
    
INSERT INTO SCRAMBLE VALUES (259, 17, 
    'R L` F2 B U2 B R2 B` R D2 U` F2 D` B D2 F2 R2 L D` B` F` U2 R2 D` L U` B', 
    0, 16.673, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 4, null, 2);    
    
INSERT INTO SCRAMBLE VALUES (260, 17, 
    'D F D F2 R2 L2 U` F2 U F R2 B` U` L2 F D U` L2 U2 R2 L2 F R', 
    0, 15.391, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 4, null, 2); 
    
    
INSERT INTO SCRAMBLE VALUES (261, 21, 
    'B2 L` U` F` R2 D U L` R` B2 L` D R` F2 B2 R2 L2 F2 U` F` L` B` L` B2 D`', 
    0, 16.816, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 5, null, 2);   
     
INSERT INTO SCRAMBLE VALUES (262, 21, 
    'L D R` F` B2 L R` B` U B2 D` L2 R2 F D` U F` B` L2 D2 R L F B D2', 
    0, 19.575, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 5, null, 2);   
    
INSERT INTO SCRAMBLE VALUES (263, 21, 
    'L2 B U` D B D` R` F` D2 R L` F` L2 U R` L2 F` L D U2 R2 F D2 U2 L2', 
    0, 17.561, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 5, null, 2);    

INSERT INTO SCRAMBLE VALUES (264, 21, 
    'U2 B D R2 D U F` R2 F D2 B R2 F2 D2 B2 F D2 B2 U F L R` U F` U`', 
    0, 18.897, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 5, null, 2);    
    
INSERT INTO SCRAMBLE VALUES (265, 21, 
    'R2 B` R2 D` R2 U B` F2 L` B R` D` R` L` F2 L` F` B` L B2 F` R` B2 D2 L`', 
    0, 16.888, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 5, null, 2);    
    
    
    /*CATEGORIA PYRAMINX*/
INSERT INTO SCRAMBLE VALUES (266, 3, 'B R� B� U� B U� B L R� u l b', 
    0, 15.432, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 6, null, 7); 

INSERT INTO SCRAMBLE VALUES (267, 3, 'U B L` B` L R` L` B R` L` l b', 
    0, 7.542, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 6, null, 7);
    
INSERT INTO SCRAMBLE VALUES (268, 3, 'L B` U` R` L` R` L R U` L` u l', 
    0, 10.438, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 6, null, 7);
    
INSERT INTO SCRAMBLE VALUES (269, 3, 'L` B U` B` L R L B` L` B` l r`', 
    0, 3.532, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 6, null, 7);
    
INSERT INTO SCRAMBLE VALUES (270, 3, 'L B` L U R B R L` R` L u r', 
    0, 5.622, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 6, null, 7);
    
    
INSERT INTO SCRAMBLE VALUES (271, 20, 'R U R B` R L B` U L l r` b', 
    0, 1.543, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 7, null, 7);

INSERT INTO SCRAMBLE VALUES (272, 20, 'B L` R` U` L U` R` B` U L u b`', 
    0, 2.543, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 7, null, 7);
    
INSERT INTO SCRAMBLE VALUES (273, 20, 'U L` B L B U B` L` B R` l r', 
    0, 2.836, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 7, null, 7);    
    
INSERT INTO SCRAMBLE VALUES (274, 20, 'U` L` R` L` R` B` R L` u l r b`', 
    0, 1.846, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 7, null, 7);    
    
INSERT INTO SCRAMBLE VALUES (275, 20, 'R` B L` U` R B` U R` L u` l` b', 
    0, 0.998, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 7, null, 7);    
    
    
INSERT INTO SCRAMBLE VALUES (276, 41, 'R L` R B` R L R L U L` R` l', 
    0, 4.725, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 8, null, 7);    
    
INSERT INTO SCRAMBLE VALUES (277, 41, 'R L B` L B` U B L` B` u r b', 
    0, 4.232, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 8, null, 7);      
    
INSERT INTO SCRAMBLE VALUES (278, 41, 'R B L U L` R L` R` u l` r b', 
    0, 5.334, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 8, null, 7);      
    
INSERT INTO SCRAMBLE VALUES (279, 41, 'R L` U` L` R` B` R L` u l` r b`', 
    0, 3.955, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 8, null, 7);      
    
INSERT INTO SCRAMBLE VALUES (280, 41, 'U R` U` R U B U` R` U` u` r` b`', 
    0, 3.224, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 8, null, 7);      
    
    
INSERT INTO SCRAMBLE VALUES (281, 17, 'R` L` B` L` B L R U` B R` u b`', 
    0, 3.223, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 9, null, 7);      
    
INSERT INTO SCRAMBLE VALUES (282, 17, 'B` R L R` B R B` L` R U u r`', 
    0, 4.255, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 9, null, 7);    
    
INSERT INTO SCRAMBLE VALUES (283, 17, 'U` L R` U B` U` L U` u` l r` b`', 
    0, 4.426, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 9, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (284, 17, 'B U R L U` L U L` U` R` l` b', 
    0, 4.826, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 9, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (285, 17, 'R` U` L` B U L U B U` B` u r`', 
    0, 3.211, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 9, null, 7);     
    

INSERT INTO SCRAMBLE VALUES (286, 21, 'B` U B R` L` R U R` B` U` B` U', 
    0, 1.144, null, null, '+2', null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 10, null, 7); 
    
INSERT INTO SCRAMBLE VALUES (287, 21, 'L` B` R L` B L` B L` B` R` B r`', 
    0, 0.798, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 10, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (288, 21, 'R B R` B R U B R U L` u` b`', 
    0, 1.735, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 10, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (289, 21, 'L B` R L U` R U` R B L l` b', 
    0, 1.223, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 10, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (290, 21, 'U L` R L R` B` U` L U` L r b', 
    0, 0.926, null, null, null, null,
    TO_DATE('31/12/2023', 'DD/MM/YYYY'), null, 121, 10, null, 7); 
    

/*COMPETENCIA 122 : 32,37,7,6*/  
                -- CATEGORIA 3X3X3 BLIND 
INSERT INTO SCRAMBLE VALUES (291, 32, 
    'L2 R` B` R` F` R2 D` U B R2 B` F2 D R` L` B F2 U2 L2 D2 U` B` L2 D2 B2', 
    1, 43.643, null, null, '+2', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 11, null, 15);  
    
INSERT INTO SCRAMBLE VALUES (292, 32, 
    'B U R2 F L D2 F` D` U2 R` F2 L2 B2 L F2 D` U B` L R2 D U2 L` R` B2', 
    2, 0.223, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 11, null, 15);

INSERT INTO SCRAMBLE VALUES (293, 32, 
    'B F U` L D` R L F` B` D` F2 L` B2 U2 R2 U R2 U B2 R` U L` U` F2 D2', 
    1, 15.926, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 11, null, 15);

INSERT INTO SCRAMBLE VALUES (294, 32, 
    'R B2 U R2 B R2 L` D` B L` F` L2 D2 F2 U D` R` B2 U2 R2 F` U2 D2 B L', 
    1, 0.267, null, null, '+2', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 11, null, 15);
    
INSERT INTO SCRAMBLE VALUES (295, 32, 
    'D` L D2 U` F` L D` F` L2 F` R2 U2 L2 D U2 L` B U L2 U2 L` U L2 R2 U`', 
    0, 49.245, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 11, null, 15);  
    
    
INSERT INTO SCRAMBLE VALUES (296, 37, 
    'R` D` F` L2 U` F` B U2 L2 F2 L F2 B2 L` F` L2 D` L U` R` F R B` D L`', 
    0, 55.255, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 12, null, 15);  
    
INSERT INTO SCRAMBLE VALUES (297, 37, 
    'B2 L D` L2 D` B` F2 U` R2 B L` U L2 U L U R B2 U2 D2 B` R` F` R U2', 
    0, 49.273, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 12, null, 15);

INSERT INTO SCRAMBLE VALUES (298, 37, 
    'D` B2 R U` D` R2 F2 B2 R2 D U` L F` U` F R2 B` D B` L2 D R` L` U` L', 
    1, 15.235, null, null, '+2', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 12, null, 15);

INSERT INTO SCRAMBLE VALUES (299, 37, 
    'D2 U L` D2 R2 F2 R` F2 D L D B` U` B2 D` R B2 F` L R D2 F` D B L', 
    1, 8.325, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 12, null, 15);
    
INSERT INTO SCRAMBLE VALUES (300, 37, 
    'B F R U` D` B` U R` B` U` F R2 U2 D2 B` U2 D2 B L` F` D` R2 U` B2 D', 
    0, 49.224, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 12, null, 15); 
    
    
INSERT INTO SCRAMBLE VALUES (301, 7, 
    'F` B U F D B` D B2 D2 F2 B2 L D` B U F R` D B` R B U2 L` F U2', 
    0, 55.236, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 13, null, 15);  
    
INSERT INTO SCRAMBLE VALUES (302, 7, 
    'F` L2 D2 L B R U2 D2 F L2 U` F2 R D2 U` R B2 F` R` D2 F2 R` B2 D R', 
    1, 0.922, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 13, null, 15);

INSERT INTO SCRAMBLE VALUES (303, 7, 
    'L` R` F` U2 B2 U2 D2 L2 R` D2 F B D F` U2 B2 R2 L D` R B U2 R L2 U`', 
    1, 15.432, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 13, null, 15);

INSERT INTO SCRAMBLE VALUES (304, 7, 
    'D` L F` B2 D2 L` R` U B F L2 D2 L2 F2 R` B R2 D2 F` D2 F` L D` R` L', 
    0, 55.254, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 13, null, 15);
    
INSERT INTO SCRAMBLE VALUES (305, 7, 
    'L` B` R B2 R B2 D2 F2 L U` L2 D` U` L2 U` R2 B2 F2 R2 L` B F` U B L', 
    0, 25.435, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 13, null, 15); 
    

INSERT INTO SCRAMBLE VALUES (306, 6, 
    'L2 D` F U F` U D B2 R2 L B2 U L2 R` D2 F` R B` R` B L2 B` L B D', 
    0, 35.543, null, null, '+2', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 14, null, 15);  
    
INSERT INTO SCRAMBLE VALUES (307, 6, 
    'B` F U R` U F` U R2 U` D` R2 B2 D2 R2 L` D` U` R2 L2 F2 D` L` B` D L', 
    0, 45.874, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 14, null, 15);

INSERT INTO SCRAMBLE VALUES (308, 6, 
    'U2 R` U L R2 U` L` D2 U` B` U2 R2 B` R2 D` U` L F` D` U` R2 B2 L` B2 F`', 
    0, 26.536, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 14, null, 15);

INSERT INTO SCRAMBLE VALUES (309, 6, 
    'L` B D` F2 U2 D R2 L U L D2 B2 F` U` L` U2 B2 D R D F` L` B2 R` U', 
    0, 19.542, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 14, null, 15);
    
INSERT INTO SCRAMBLE VALUES (310, 6, 
    'B2 R D` U R B R` B R2 U2 F R` B2 L2 B` F2 D` R` U` L` R2 B2 U` B U', 
    0, 55.297, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 14, null, 15); 
  

                -- CATEGORIA MEGAMINX 
 -- user 32 megaminx 
INSERT INTO SCRAMBLE VALUES (311, 32, 
    'D-- R++ D-- R++ D++ R++ D-- R-- D++ R++ U` R-- D++ R++ D++ R-- D-- R-- 
    D-- R-- D-- U` D++ R-- D++ R-- D-- R-- D-- R-- D-- R-- U` R-- D++ R-- 
    D-- R++ D++ R-- D++ R-- D++ U D-- R-- D-- R-- D-- R-- D++ R-- D-- R++ U
    D++ R-- D-- R-- D-- R-- D-- R++ D-- R-- U` R++ D++ R-- D-- R++ D-- R-- 
    D++ R-- D++ U`', 0, 39.956, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 15, null, 8); 
    
INSERT INTO SCRAMBLE VALUES (312, 32, 
    'D++ R++ D-- R-- D++ R-- D-- R-- D++ R-- U� D-- R-- D-- R++ D-- R++ D-- 
    R-- D++ R-- U D-- R-- D++ R++ D-- R-- D++ R++ D-- R++ U� R++ D-- R-- 
    D-- R-- D-- R-- D++ R++ D-- U R-- D-- R-- D++ R++ D-- R-- D-- R-- D++ U
    R++ D-- R++ D-- R-- D++ R++ D++ R-- D++ U� D-- R-- D-- R++ D-- R++ D++ R++ 
    D++ R++ U�', 0, 34.653, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 15, null, 8); 
        
INSERT INTO SCRAMBLE VALUES (313, 32, 
    'D-- R++ D-- R-- D++ R++ D++ R-- D++ R++ U� R-- D++ R++ D-- R-- D++ R-- D-- 
    R++ D-- U D-- R++ D++ R++ D-- R++ D-- R++ D++ R++ U� R++ D++ R-- D++ R++ 
    D++ R-- D++ R++ D-- U� R++ D++ R-- D-- R-- D++ R-- D++ R++ D-- U� R-- D++ 
    R-- D++ R-- D-- R-- D-- R-- D-- U� D-- R++ D++ R++ D++ R-- D-- R-- D-- R++ U�', 
    0, 55.682, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 15, null, 8); 
        
INSERT INTO SCRAMBLE VALUES (314, 32, 
    'D-- R++ D-- R++ D++ R++ D++ R-- D-- R++ U` D-- R-- D++ R-- D-- R-- D-- R-- 
    D-- R-- U R-- D-- R++ D-- R++ D-- R++ D-- R++ D-- U` R-- D++ R-- D-- R++ D++ 
    R++ D-- R++ D-- U` R-- D++ R-- D-- R-- D++ R-- D-- R++ D-- U` D++ R-- D-- 
    R-- D-- R-- D++ R-- D-- R++ U R++ D++ R-- D++ R++ D-- R++ D++ R-- D-- U`', 
    0, 46.765, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 15, null, 8); 
        
INSERT INTO SCRAMBLE VALUES (315, 32, 
    'R-- D++ R++ D++ R++ D-- R-- D-- R-- D++ U` D++ R-- D-- R-- D++ R-- D-- R++ 
    D++ R-- U D-- R-- D-- R-- D++ R-- D-- R++ D++ R-- U` D-- R++ D-- R++ D++ R++ 
    D++ R++ D-- R-- U` D++ R-- D-- R++ D++ R-- D-- R-- D-- R++ U D++ R++ D-- R++ 
    D-- R-- D-- R-- D++ R-- U D++ R++ D-- R-- D-- R-- D-- R++ D++ R-- U`', 
    0, 32.645, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 15, null, 8); 
        

 -- user 37 megaminx      
INSERT INTO SCRAMBLE VALUES (316, 37, 
    'D++ R++ D++ R-- D-- R-- D-- R-- D++ R-- U� R++ D-- R-- D++ R-- D++ R++ D-- 
    R-- D-- U� R-- D++ R-- D-- R-- D++ R-- D-- R-- D++ U D++ R++ D++ R-- D++ R-- 
    D-- R++ D-- R-- U� D-- R-- D-- R++ D++ R-- D++ R++ D-- R-- U� R-- D++ R++ 
    D++ R-- D++ R-- D++ R-- D++ U D-- R++ D++ R-- D++ R++ D-- R-- D++ R-- U�', 
    1, 12.624, null, null, '+2', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 16, null, 8); 

INSERT INTO SCRAMBLE VALUES (317, 37, 
    'D-- R-- D-- R-- D-- R-- D++ R-- D-- R++ U� D-- R++ D-- R++ D++ R++ D-- R-- 
    D++ R++ U D-- R++ D++ R++ D-- R-- D-- R++ D-- R-- U� R++ D++ R++ D++ R-- D-- 
    R++ D-- R-- D++ U� D++ R++ D++ R-- D++ R++ D-- R++ D++ R-- U� D-- R-- D-- 
    R++ D-- R-- D++ R++ D-- R++ U D++ R++ D++ R-- D++ R++ D-- R++ D++ R++ U�', 
    1, 49.425, null, null, 'DNF', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 16, null, 8); 
    
INSERT INTO SCRAMBLE VALUES (318, 37, 
    'D++ R++ D-- R++ D++ R++ D-- R-- D-- R++ U D++ R-- D++ R++ D++ R-- D++ R-- 
    D++ R-- U R-- D-- R-- D++ R-- D++ R-- D-- R++ D-- U D++ R-- D-- R++ D-- R-- 
    D-- R++ D++ R-- U� D++ R-- D-- R-- D++ R-- D-- R++ D-- R-- U R-- D++ R-- D++ 
    R++ D++ R-- D-- R-- D++ U R++ D++ R++ D++ R-- D-- R-- D-- R-- D-- U�', 
    1, 15.543, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 16, null, 8); 
    
INSERT INTO SCRAMBLE VALUES (319, 37, 
    'R-- D++ R-- D++ R++ D++ R++ D++ R-- D++ U� D-- R-- D-- R++ D-- R++ D-- R++ 
    D-- R++ U� D-- R++ D-- R-- D-- R-- D++ R-- D-- R-- U R++ D++ R++ D++ R++ D-- 
    R-- D++ R++ D-- U� D-- R-- D-- R-- D-- R-- D-- R++ D++ R++ U� D-- R++ D++ 
    R++ D-- R++ D++ R++ D++ R++ U� D-- R-- D++ R++ D++ R-- D-- R-- D-- R-- U�', 
    1, 8.548, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 16, null, 8); 
    
INSERT INTO SCRAMBLE VALUES (320, 37, 
    'D++ R++ D-- R++ D++ R++ D++ R++ D-- R-- U R-- D-- R++ D-- R++ D-- R-- D++ 
    R-- D-- U� R++ D-- R++ D-- R++ D++ R++ D-- R-- D-- U D++ R-- D-- R-- D-- R++ 
    D-- R++ D-- R-- U D++ R++ D++ R-- D-- R-- D++ R-- D++ R-- U� R-- D++ R-- D-- 
    R-- D++ R-- D++ R-- D++ U� R++ D++ R-- D++ R++ D++ R-- D++ R-- D-- U�', 
    1, 34.626, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 16, null, 8); 
    
 -- user 7 megaminx    
INSERT INTO SCRAMBLE VALUES (321, 7, 
    'D-- R-- D++ R-- D++ R-- D-- R++ D++ R++ U R-- D++ R-- D-- R-- D++ R++ D++ 
    R-- D-- U D-- R++ D++ R-- D-- R++ D-- R++ D-- R-- U R++ D-- R++ D-- R-- D-- 
    R-- D++ R++ D-- U� R++ D-- R-- D-- R++ D-- R-- D++ R++ D++ U R-- D++ R-- D-- 
    R-- D++ R++ D-- R-- D++ U� R++ D++ R++ D-- R-- D-- R++ D-- R-- D-- U�', 
    0, 59.284, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 17, null, 8); 
    
INSERT INTO SCRAMBLE VALUES (322, 7, 
    'D-- R-- D++ R-- D-- R-- D++ R-- D++ R-- U� D++ R-- D++ R-- D-- R-- D-- R++ 
    D++ R-- U D-- R++ D++ R++ D++ R++ D++ R++ D-- R-- U� R++ D-- R++ D-- R++ 
    D++ R-- D-- R++ D++ U� D-- R-- D++ R++ D++ R++ D-- R++ D++ R++ U� R++ D-- 
    R-- D++ R++ D-- R-- D-- R-- D-- U D++ R++ D++ R-- D++ R++ D-- R++ D++ R++ U�', 
    0, 58.565, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 17, null, 8);     
    
INSERT INTO SCRAMBLE VALUES (323, 7, 
    'D-- R-- D++ R++ D++ R++ D++ R-- D++ R++ U R++ D-- R++ D++ R++ D++ R++ D++ 
    R++ D-- U� D++ R++ D-- R-- D-- R++ D++ R-- D-- R++ U� R-- D++ R++ D-- R-- 
    D-- R-- D-- R++ D-- U R-- D++ R++ D-- R++ D++ R++ D-- R-- D++ U� R-- D-- 
    R-- D++ R++ D-- R-- D++ R-- D++ U� D++ R++ D-- R-- D++ R-- D-- R++ D++ R++ U', 
    1, 11.284, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 17, null, 8);     
    
INSERT INTO SCRAMBLE VALUES (324, 7, 
    'R++ D++ R-- D-- R++ D-- R-- D++ R-- D++ U� R++ D++ R++ D-- R-- D++ R-- D++ 
    R++ D-- U� D-- R++ D++ R-- D++ R++ D-- R++ D++ R++ U D-- R-- D-- R-- D-- 
    R-- D++ R++ D-- R++ U� R-- D++ R-- D-- R-- D++ R-- D++ R-- D-- U R++ D++ R-- 
    D++ R-- D++ R++ D++ R++ D++ U R-- D-- R-- D-- R++ D++ R++ D++ R++ D++ U�', 
    0, 57.254, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 17, null, 8);     
    
INSERT INTO SCRAMBLE VALUES (325, 7, 
    'R-- D++ R-- D++ R-- D++ R++ D-- R-- D++ U D++ R-- D-- R-- D-- R-- D++ R-- 
    D++ R-- U� D++ R++ D-- R++ D-- R++ D++ R-- D-- R-- U� R++ D++ R++ D++ R++ 
    D-- R-- D-- R++ D++ U� R-- D-- R++ D-- R-- D++ R++ D++ R-- D++ U R-- D-- R-- 
    D++ R-- D-- R-- D++ R++ D++ U� D++ R++ D-- R++ D++ R++ D-- R++ D-- R-- U�', 
    0, 56.254, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 17, null, 8);     
    
    
 -- user 6 megaminx   
INSERT INTO SCRAMBLE VALUES (326, 6, 
    'R++ D-- R++ D-- R-- D++ R++ D++ R++ D++ U D-- R++ D++ R-- D-- R-- D++ R-- 
    D++ R++ U R-- D++ R++ D-- R-- D-- R++ D-- R++ D++ U� R-- D++ R-- D-- R++ 
    D-- R-- D-- R-- D-- U D-- R-- D++ R-- D++ R-- D++ R-- D-- R-- U� D-- R++ 
    D++ R++ D-- R-- D-- R-- D-- R-- U� R++ D-- R-- D-- R-- D++ R-- D++ R-- D++ U�', 
    1, 22.541, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 18, null, 8);   
    
INSERT INTO SCRAMBLE VALUES (327, 6, 
    'D-- R++ D++ R-- D++ R++ D-- R++ D++ R++ U R++ D-- R-- D-- R++ D-- R++ D-- 
    R-- D-- U R++ D-- R-- D++ R-- D++ R-- D++ R-- D-- U� D++ R++ D++ R++ D-- R-- 
    D++ R-- D-- R-- U� R++ D-- R-- D-- R-- D-- R-- D-- R-- D-- U D++ R++ D-- R++ 
    D++ R++ D++ R++ D++ R-- U D-- R-- D++ R++ D++ R++ D-- R-- D-- R++ U�', 
    1, 11.348, null, null, '+2', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 18, null, 8);    
    
INSERT INTO SCRAMBLE VALUES (328, 6, 
    'D-- R-- D++ R++ D++ R++ D++ R++ D-- R-- U R-- D++ R-- D++ R++ D-- R-- D-- 
    R-- D++ U� R++ D-- R-- D-- R-- D++ R-- D++ R-- D-- U D-- R-- D-- R-- D++ R-- 
    D-- R++ D++ R-- U� R++ D++ R-- D++ R-- D-- R-- D++ R++ D++ U� R-- D-- R-- D++ 
    R-- D++ R++ D-- R++ D++ U R++ D++ R-- D-- R-- D++ R++ D-- R++ D-- U', 
    1, 04.230, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 18, null, 8);    
    
INSERT INTO SCRAMBLE VALUES (329, 6, 
    'R++ D++ R-- D++ R++ D-- R-- D-- R-- D++ U R-- D-- R++ D++ R-- D-- R++ D++ 
    R-- D++ U D++ R-- D-- R++ D++ R-- D++ R-- D++ R++ U R++ D-- R++ D-- R-- D-- 
    R-- D-- R-- D-- U R++ D-- R-- D++ R++ D++ R-- D-- R++ D++ U� D++ R-- D-- R++ 
    D++ R++ D-- R++ D++ R++ U D-- R-- D-- R++ D-- R-- D++ R-- D-- R-- U� ', 
    0, 58.244, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 18, null, 8); 
    
INSERT INTO SCRAMBLE VALUES (330, 6, 
    'R++ D++ R++ D-- R-- D-- R-- D-- R-- D-- U D++ R-- D-- R++ D-- R++ D-- R++ 
    D-- R-- U R++ D++ R++ D-- R-- D++ R-- D-- R-- D-- U� D++ R-- D-- R++ D-- R++ 
    D-- R++ D++ R++ U D++ R-- D-- R++ D++ R-- D-- R++ D-- R++ U� D-- R-- D++ R++ 
    D-- R++ D++ R-- D-- R-- U R-- D-- R++ D-- R-- D++ R++ D++ R++ D++ U�', 
    0, 59.992, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 18, null, 8);   
        
    
                -- CATEGORIA PYRAMINX 
INSERT INTO SCRAMBLE VALUES (331, 32, 
    'L B` L U B` L` R` L` U R u` l`', 
    0, 14.223, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 19, null, 7); 
    
INSERT INTO SCRAMBLE VALUES (332, 32, 
    'U` R` L` B` R L U` L` R` l r` b`', 
    0, 11.164, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 19, null, 7);    
    
INSERT INTO SCRAMBLE VALUES (333, 32, 
    'L U R` L` U` L R B` u` l` r b', 
    0, 08.566, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 19, null, 7);    
    
INSERT INTO SCRAMBLE VALUES (334, 32, 
    'B L R` B R L U` B u` l r b`', 
    0, 05.143, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 19, null, 7);    
                
INSERT INTO SCRAMBLE VALUES (335, 32, 
    'B` L U R U B L` U B` L u` b`', 
    0, 11.215, null, null, 'DNF', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 19, null, 7);  
    
 
 
INSERT INTO SCRAMBLE VALUES (336, 37, 'L R` L` R` U` L` U B L R` L` u`', 
    0, 09.223, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 20, null, 7);    
    
INSERT INTO SCRAMBLE VALUES (337, 37, 'L` U` B` L R` B L U B R B L', 
    0, 05.143, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 20, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (338, 37, 'U R` B R` B R L R U u l` b`', 
    0, 04.223, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 20, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (339, 37, 'U` L` B R` B U L R` u l r b', 
    0, 05.113, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 20, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (340, 37, 'U` R` U` L R L` B U u l` r b`', 
    0, 06.282, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 20, null, 7);
    

INSERT INTO SCRAMBLE VALUES (341, 7, 'U` L` B U R U R L` B R u r`', 
    0, 04.213, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 21, null, 7);  
    
INSERT INTO SCRAMBLE VALUES (342, 7, 'U` L` U` R U B R L` B` u` l` r', 
    0, 08.620, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 21, null, 7);      
    
INSERT INTO SCRAMBLE VALUES (343, 7, 'B U R B L U` R L` u l` r b', 
    0, 07.663, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 21, null, 7);      
    
INSERT INTO SCRAMBLE VALUES (344, 7, 'R U B U` B R B R U L B` b`', 
    0, 11.342, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 21, null, 7);      
    
INSERT INTO SCRAMBLE VALUES (345, 7, 'R B L U B R` U B` L` u` l b`', 
    0, 15.322, null, null, 'DNF', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 21, null, 7);
    
    
    
INSERT INTO SCRAMBLE VALUES (346, 6, 'L` U B L` B` U R` L B U r` b', 
    0, 05.113, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 22, null, 7); 
    
INSERT INTO SCRAMBLE VALUES (347, 6, 'B` U` R` B U B` U R U` u l` r', 
    0, 07.513, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 22, null, 7);     

INSERT INTO SCRAMBLE VALUES (348, 6, 'L` U` R` L U R U` R B` L u b`', 
    0, 06.377, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 22, null, 7); 

INSERT INTO SCRAMBLE VALUES (349, 6, 'R` U` R` B R L` R U L B u` r`', 
    0, 09.113, null, null, null, null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 22, null, 7);     
    
INSERT INTO SCRAMBLE VALUES (350, 6, 'U` B L` B L` U L` R U` u l` b', 
    0, 09.442, null, null, '+2', null,
    TO_DATE('22/02/2024', 'DD/MM/YYYY'), null, 122, 22, null, 7); 
    
   
 /*SESSIONS*/
INSERT INTO SCRAMBLE VALUES (351, 1, 'R` U B` U L` U B U R L l` r', 
    0, 09.442, null, null, null, null,
    TO_DATE('01/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
    
INSERT INTO SCRAMBLE VALUES (352, 1, 'B L` B` L R` L B U B U u b`', 
    0, 04.234, null, null, null, null,
    TO_DATE('01/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
    
INSERT INTO SCRAMBLE VALUES (353, 1, 'R` L` B` U L R U` L` B` l` r b`', 
    0, 05.993, null, null, null, null,
    TO_DATE('01/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
    
INSERT INTO SCRAMBLE VALUES (354, 1, 'U` L R L U` R` U R` L u r b', 
    0, 05.235, null, null, null, null,
    TO_DATE('01/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
    
INSERT INTO SCRAMBLE VALUES (355, 1, 'B U` R U B` R` U L B R l r', 
    0, 03.554, null, null, '+2', null,
    TO_DATE('01/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
    
INSERT INTO SCRAMBLE VALUES (356, 1, 'L` B L B U` L` U R` L` u r b`', 
    0, 07.884, null, null, null, null,
    TO_DATE('03/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
    
INSERT INTO SCRAMBLE VALUES (357, 1, 'L U` B` L B U B` R B R` u` b', 
    0, 06.599, null, null, null, null,
    TO_DATE('03/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
    
INSERT INTO SCRAMBLE VALUES (358, 1, 'B` L` U` L` R U R` L` B u l` r', 
    0, 03.454, null, null, null, null,
    TO_DATE('04/03/2023', 'DD/MM/YYYY'), null, null, 23, 301, 7); 
COMMIT;


                        /*****ACTUALIZACIONES*****/
/*POR CADA TIEMPO QUE HAYA REALIZADO EL USUARIO SE LE SUMARAN 25, QUE ES LA 
EXPERIENCIA, CUANDO HAYA LLEGADO A 100 SE LE SUMA 1 NIVEL*/ 
DECLARE
    MAXNUMBER NUMBER(7);
    CONTADORWHILE NUMBER(7);
BEGIN
    SELECT COUNT(ID_USER) INTO MAXNUMBER FROM CUBE_USERS;
    SELECT MIN(ID_USER) INTO CONTADORWHILE FROM CUBE_USERS;
    
    WHILE CONTADORWHILE < (MAXNUMBER + 1) LOOP
        UPDATE CUBE_USERS SET LEVEL_USER = 
        -- HE QUIERO PONER "NIVEL.EXPERIENCIA" PERO NO SE METER UN VALOR NUMERICO 
        -- CONCATENADO A UN VALOR NUMERICO, ASI QUE HE MULTIPLICADO POR MIL EL NIVEL
        -- Y ASI EL NIVEL SE QUEDA EN LAS MILESIMAS Y LA EXPERIENCIA DESDE LAS 
        -- CENTESIMAS
            (SELECT TRUNC(COUNT(S.ID_SCRAMBLE) * 25 / 100) * 1000 +
                (COUNT(S.ID_SCRAMBLE) * 25) AS NIVEL
            FROM SCRAMBLE S, CUBE_USERS C
            WHERE C.ID_USER = S.ID_USER AND S.ID_USER = CONTADORWHILE)
        WHERE ID_USER = CONTADORWHILE;
        
        CONTADORWHILE := CONTADORWHILE + 1;
    END LOOP;
END;
/
COMMIT; 
   
                /*ACTUALIZAR EL GANADOR DE LAS COMPETICIONES*/                
/*SI HA RESULTO EL CUBO Y SE LE HA GIRADO LA ULTIMA CAPA SERIA UN +2, POR LO
CUAL SE ACTUALIZA LOS SEGUNDOS Y SE LE SUMA 2.
SI POR EJEMPLO, EL USUARIO HACE UN DNF, SE ACUALIZA EL COMENTARIO Y SE DA POR 
GANADOR AL QUE NO TIENE DNF, SI POR EJEMPLO LSO DOS USUARIOS TIENE DNF SE 
CALCULARIA COMO SI NO TUVIERAN, Y EL MENOR TIEMPO SERIA EL GANADOR*/
DECLARE
    MAXNUMBER NUMBER(7);
    CONTADORWHILE NUMBER(7);
BEGIN
    SELECT MAX(ID_COMPE) INTO MAXNUMBER FROM COMPETITION;
    SELECT MIN(ID_COMPE) INTO CONTADORWHILE FROM COMPETITION;
    
    WHILE CONTADORWHILE < (MAXNUMBER + 1) LOOP
        UPDATE COMPETITION SET WINNER = 
        (SELECT 
            CASE    
                WHEN S.COMMENTS1 IS NULL AND S.COMMENTS2 IS NULL THEN
                    CASE 
                        WHEN MENOR = S.MINUTES1 * 60 + S.SECONDS1 THEN C.CUBER1
                        WHEN MENOR = S.MINUTES2 * 60 + S.SECONDS2 THEN C.CUBER2
                    END
                WHEN COMMENTS1 LIKE '+2' THEN
                    CASE 
                        WHEN MENOR = (S.MINUTES1 * 60 + S.SECONDS1 + 2) THEN C.CUBER1
                        WHEN MENOR = S.MINUTES2 * 60 + S.SECONDS2 THEN C.CUBER2
                    END
                WHEN COMMENTS2 LIKE '+2' THEN
                    CASE 
                        WHEN MENOR = S.MINUTES1 * 60 + S.SECONDS1 THEN C.CUBER1
                        WHEN MENOR = (S.MINUTES2 * 60 + S.SECONDS2 + 2) THEN C.CUBER2
                    END
                WHEN COMMENTS1 LIKE '+2' AND COMMENTS2 LIKE '+2' THEN
                    CASE 
                        WHEN MENOR = S.MINUTES1 * 60 + S.SECONDS1 + 2 THEN C.CUBER1
                        WHEN MENOR = S.MINUTES2 * 60 + S.SECONDS2 + 2 THEN C.CUBER2
                    END   
                WHEN S.COMMENTS1 LIKE 'DNF' THEN C.CUBER2
                WHEN S.COMMENTS2 LIKE 'DNF' THEN C.CUBER1
                WHEN COMMENTS1 LIKE 'DNF' AND COMMENTS2 LIKE 'DNF' THEN
                    CASE 
                        WHEN MENOR = S.MINUTES1 * 60 + S.SECONDS1 THEN C.CUBER1
                        WHEN MENOR = S.MINUTES2 * 60 + S.SECONDS2 THEN C.CUBER2
                    END        
            END AS WINNER
        FROM (SELECT ID_COMPE,   
                CASE
                    WHEN COMMENTS1 IS NULL AND COMMENTS2 IS NULL THEN
                        LEAST(MINUTES1 * 60 + SECONDS1, MINUTES2 * 60 + SECONDS2)
                    WHEN COMMENTS1 LIKE '+2' THEN
                        LEAST(MINUTES1 * 60 + SECONDS1 + 2, MINUTES2 * 60 + SECONDS2)
                    WHEN COMMENTS2 LIKE '+2' THEN
                        LEAST(MINUTES1 * 60 + SECONDS1, MINUTES2 * 60 + SECONDS2 + 2)
                    WHEN COMMENTS1 LIKE '+2' AND COMMENTS2 LIKE '+2' THEN
                        LEAST(MINUTES1 * 60 + SECONDS1 + 2, MINUTES2 * 60 + SECONDS2 + 2)
                END AS MENOR
            FROM SCRAMBLE
            WHERE ID_COMPE = CONTADORWHILE
            ) MENOR
            
        JOIN COMPETITION C ON MENOR.ID_COMPE = C.ID_COMPE
        JOIN SCRAMBLE S ON S.ID_COMPE = C.ID_COMPE 
        WHERE C.ID_COMPE = CONTADORWHILE)
        WHERE ID_COMPE = CONTADORWHILE;       
        
        CONTADORWHILE := CONTADORWHILE + 1;
    END LOOP;
END;
/
COMMIT;

                    /*ACTUALIZAR LA MEDIA DE LOS TIEMPOS*/                     
DECLARE
    MAXNUMBER NUMBER(7);
    CONTADORWHILE NUMBER(7);
BEGIN
    -- SELECIONAR EL MINIMO E IR CONTANDO TODOS LOS AVERAGES
    SELECT COUNT(ID_AVERAGE) INTO MAXNUMBER FROM SCRAMBLE;
    SELECT MIN(ID_AVERAGE) INTO CONTADORWHILE FROM SCRAMBLE;
    
    WHILE CONTADORWHILE < (MAXNUMBER + 1) LOOP
        -- PERIOD        
        UPDATE AVERAGE 
        -- EL PERIODO SON TODOS LOS TIEMPOS QUE SE HAYAN HECHO EN UN PROMEDIO
        SET PERIOD_AVG = (SELECT COUNT(ID_SCRAMBLE) FROM SCRAMBLE 
                          WHERE ID_AVERAGE = CONTADORWHILE)
        WHERE ID_AVERAGE = CONTADORWHILE;
        
        -- PEOR MINUTO
        UPDATE AVERAGE 
        -- EL PEOR MINUTO ES EL ...
        SET WORST_MINUTES = 
                (SELECT TRUNC(MAX(MINUTES1 * 60 + SECONDS1)/60) AS MINUTOS 
                FROM SCRAMBLE WHERE ID_AVERAGE = CONTADORWHILE)
        WHERE ID_AVERAGE = CONTADORWHILE;
        
        -- PEOR SEGUNDO
        UPDATE AVERAGE SET WORST_SECONDS = 
                        (SELECT MAX(MINUTES1 * 60 + SECONDS1) - MAX(MINUTES1 * 60) 
                            AS SECONDS 
                        FROM SCRAMBLE WHERE ID_AVERAGE = CONTADORWHILE)
        WHERE ID_AVERAGE = CONTADORWHILE;
        
        -- MEJOR MINUTO
        UPDATE AVERAGE SET PB_MINUTES = 
                        (SELECT TRUNC(MIN(MINUTES1 * 60 + SECONDS1)/60) AS MINUTOS 
                        FROM SCRAMBLE WHERE ID_AVERAGE = CONTADORWHILE)
        WHERE ID_AVERAGE = CONTADORWHILE;
        
        -- MEJOR SEGUNDO
        UPDATE AVERAGE SET PB_SECONDS = 
                        (SELECT MIN(MINUTES1 * 60 + SECONDS1) - MIN(MINUTES1 * 60) 
                            AS SEGUNDOS 
                        FROM SCRAMBLE WHERE ID_AVERAGE = CONTADORWHILE)
        WHERE ID_AVERAGE = CONTADORWHILE; 
        -- AVG MINUTOS
        UPDATE AVERAGE SET AVG_MINUTES = 
            
            /********PONER SI ES MAS DE UN DNF PONER EL AVERAGE EN 0 **********/
            (SELECT TRUNC((SUM(TIEMPO) - MIN(TIEMPO) - MAX(TIEMPO))/ (A.PERIOD_AVG - 2) / 60)
                AS MEDIAMINUTOS
            FROM (SELECT ID_AVERAGE,   
                    CASE
                        WHEN COMMENTS1 IS NULL AND COMMENTS2 IS NULL THEN
                            MINUTES1 * 60 + SECONDS1
                        WHEN COMMENTS1 LIKE '+2' THEN
                            MINUTES1 * 60 + SECONDS1 + 2
                        WHEN COMMENTS1 LIKE 'DNF' THEN
                            (MINUTES1 * 60 + SECONDS1) * 0
                    END AS TIEMPO
                FROM SCRAMBLE S
                WHERE S.ID_AVERAGE = CONTADORWHILE
            ) TIEMPO
            INNER JOIN AVERAGE A ON TIEMPO.ID_AVERAGE = A.ID_AVERAGE
            WHERE A.ID_AVERAGE = CONTADORWHILE
            GROUP BY A.PERIOD_AVG)
        WHERE ID_AVERAGE = CONTADORWHILE;
        
        
        -- AVG SEGUNDOS
        UPDATE AVERAGE SET AVG_SECONDS = 
            (SELECT MOD(TRUNC((SUM(TIEMPO) - MIN(TIEMPO) - MAX(TIEMPO))
                / (A.PERIOD_AVG-2),3),60)  AS MEDIASEGUNDOS
            FROM (SELECT ID_AVERAGE,   
                    CASE
                        WHEN COMMENTS1 IS NULL AND COMMENTS2 IS NULL THEN
                            MINUTES1 * 60 + SECONDS1
                        WHEN COMMENTS1 LIKE '+2' THEN
                            MINUTES1 * 60 + SECONDS1 + 2
                        WHEN COMMENTS1 LIKE 'DNF' THEN
                            (MINUTES1 * 60 + SECONDS1) * 0
                    END AS TIEMPO
                FROM SCRAMBLE S
                WHERE S.ID_AVERAGE = CONTADORWHILE
            ) TIEMPO
            INNER JOIN AVERAGE A ON TIEMPO.ID_AVERAGE = A.ID_AVERAGE
            WHERE A.ID_AVERAGE = CONTADORWHILE
            GROUP BY A.PERIOD_AVG)
        WHERE ID_AVERAGE = CONTADORWHILE;
        
        CONTADORWHILE := CONTADORWHILE + 1;
    END LOOP;
END;
/
COMMIT; 

                    /*ACTUALIZAR GANADORES CHAMPIONSHIP*/
/*SELECCIONAR EL GANADOR DEL CAMPEONATO 121 DE LA CATEGORIA 3X3X3.
PARA DETERMINAR UN GANADOR, SE EVALUARA LA MEDIA DE TIEMPOS, SIENDO EL PARTICIPANTE
CON LA MEDIA MAS BAJA EL GANADOR DE DICHO CAMPEONATO.*/
UPDATE CUBE_CHAMP_PERTENECE SET WINNER =
    (SELECT NAME_USER FROM CUBE_USERS
    WHERE ID_USER = (
        -- 4� POR ULTIMO SELECCIONAR EL ID_USER QUE HA OBTENIDO LA MEDIA MAS BAJA, 
        -- LO QUE IMPLICA QUE HA GANADO EL CAMPEONATO
        SELECT DISTINCT ID_USER
        FROM SCRAMBLE
        WHERE ID_AVERAGE = (
            -- 3� SELECCIONAR EL ID_AVERAGE QUE TIENE LA MENOR MEDIA DE TIEMPO
            SELECT DISTINCT ID_AVERAGE
            FROM AVERAGE
            WHERE AVG_MINUTES * 60 + AVG_SECONDS = (
                -- 2� SELECIONAR LA MENOR MEDIA ENTRE LOS ID_AVERAGE UTILIZADOS 
                -- EN EL CAMPEONATO Y EN LA CATEGORIA ESPECIFICA
                SELECT MIN(AVG_MINUTES * 60 + AVG_SECONDS)
                FROM AVERAGE
                WHERE ID_AVERAGE IN (
                    -- 1� SELECCIONAR LOS ID DE MEDIA QUE SE HAN UTILIZADO EN 
                    -- LA COMPETICION Y LA CATEGORIA ESPECIFICADA EN EL ENUNCIADO 
                    SELECT DISTINCT ID_AVERAGE
                    FROM SCRAMBLE
                    WHERE ID_TYPE = (SELECT ID_TYPE FROM CUBE_TYPE WHERE NAME_TYPE 
                                        LIKE '3x3x3')
                    AND ID_CHAMP = 121
                )
            )
        )
    )          
    )
WHERE ID_CHAMP = 121 AND ID_TYPE = 2;

UPDATE CUBE_CHAMP_PERTENECE SET WINNER =
    (SELECT NAME_USER FROM CUBE_USERS
        WHERE ID_USER = (
            SELECT DISTINCT ID_USER
            FROM SCRAMBLE
            WHERE ID_AVERAGE = (
                SELECT DISTINCT ID_AVERAGE
                FROM AVERAGE
                WHERE AVG_MINUTES * 60 + AVG_SECONDS = (
                    SELECT MIN(AVG_MINUTES * 60 + AVG_SECONDS)
                    FROM AVERAGE
                    WHERE ID_AVERAGE IN (
                        SELECT DISTINCT ID_AVERAGE
                        FROM SCRAMBLE
                        WHERE ID_TYPE = 7 AND ID_CHAMP = 121
                    )
                )
            )
        )            
    )
WHERE ID_CHAMP = 121 AND ID_TYPE = 7;

UPDATE CUBE_CHAMP_PERTENECE SET WINNER =
    (SELECT NAME_USER FROM CUBE_USERS
        WHERE ID_USER = (
            SELECT DISTINCT ID_USER
            FROM SCRAMBLE
            WHERE ID_AVERAGE = (
                SELECT DISTINCT ID_AVERAGE
                FROM AVERAGE
                WHERE AVG_MINUTES * 60 + AVG_SECONDS = (
                    SELECT MIN(AVG_MINUTES * 60 + AVG_SECONDS)
                    FROM AVERAGE
                    WHERE ID_AVERAGE IN (
                        SELECT DISTINCT ID_AVERAGE
                        FROM SCRAMBLE
                        WHERE ID_TYPE = 15 AND ID_CHAMP = 122
                    )
                )
            )
        )            
    )
WHERE ID_CHAMP = 122 AND ID_TYPE = 15;


UPDATE CUBE_CHAMP_PERTENECE SET WINNER =
    (SELECT NAME_USER FROM CUBE_USERS
        WHERE ID_USER = (
            SELECT DISTINCT ID_USER
            FROM SCRAMBLE
            WHERE ID_AVERAGE = (
                SELECT DISTINCT ID_AVERAGE
                FROM AVERAGE
                WHERE AVG_MINUTES * 60 + AVG_SECONDS = (
                    SELECT MIN(AVG_MINUTES * 60 + AVG_SECONDS)
                    FROM AVERAGE
                    WHERE ID_AVERAGE IN (
                        SELECT DISTINCT ID_AVERAGE
                        FROM SCRAMBLE
                        WHERE ID_TYPE = 8 AND ID_CHAMP = 122
                    )
                )
            )
        )            
    )
WHERE ID_CHAMP = 122 AND ID_TYPE = 8;


UPDATE CUBE_CHAMP_PERTENECE SET WINNER =
    (SELECT NAME_USER FROM CUBE_USERS
        WHERE ID_USER = (
            SELECT DISTINCT ID_USER
            FROM SCRAMBLE
            WHERE ID_AVERAGE = (
                SELECT DISTINCT ID_AVERAGE
                FROM AVERAGE
                WHERE AVG_MINUTES * 60 + AVG_SECONDS = (
                    SELECT MIN(AVG_MINUTES * 60 + AVG_SECONDS)
                    FROM AVERAGE
                    WHERE ID_AVERAGE IN (
                        SELECT DISTINCT ID_AVERAGE
                        FROM SCRAMBLE
                        WHERE ID_TYPE = 7 AND ID_CHAMP = 122
                    )
                )
            )
        )            
    )
WHERE ID_CHAMP = 122 AND ID_TYPE = 7;
COMMIT;